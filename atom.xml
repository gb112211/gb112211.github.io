<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[xuxu的博客]]></title>
  <subtitle><![CDATA[Time is a file that wears and makes no noise.]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://www.xuxu1988.com/"/>
  <updated>2016-04-25T15:02:14.000Z</updated>
  <id>http://www.xuxu1988.com/</id>
  
  <author>
    <name><![CDATA[xuxu]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Drozer For Mac]]></title>
    <link href="http://www.xuxu1988.com/2016/04/24/DrozerForMac/"/>
    <id>http://www.xuxu1988.com/2016/04/24/DrozerForMac/</id>
    <published>2016-04-24T04:33:47.000Z</published>
    <updated>2016-04-25T15:02:14.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Drozer">Drozer</h2><p>Drozer, 一个用于Android App 安全测试的工具。<a href="https://labs.mwrinfosecurity.com/assets/BlogFiles/mwri-drozer-user-guide-2015-03-23.pdf" target="_blank" rel="external">使用说明文档</a></p>
<h2 id="安装">安装</h2><p><a href="https://labs.mwrinfosecurity.com/tools/drozer/" target="_blank" rel="external">Drozer官网</a></p>
<ul>
<li>下载<code>Drozer(Python.egg)</code></li>
<li><p>解压后查看安装文档<code>INSTALLING</code>,安装所需要的依赖，需要root权限</p>
<blockquote>
<p>  <code>sudo easy_install --allow-hosts pypi.python.org protobuf==2.4.1</code><br>  <code>sudo easy_install twisted==10.2.0</code><br>  <code>sudo easy_install ./drozer-2.3.0-py2.7.egg</code></p>
</blockquote>
</li>
<li>安装<code>agent.apk</code><a id="more"></a></li>
<li>在Android设备上打开drozer Agent, 选择选择<code>Embedded Server</code></li>
<li><p>PC端执行命令：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb forward tcp:<span class="number">31415</span> tcp:<span class="number">31415</span></span><br><span class="line">[xuxu:~]$ drozer console connect</span><br><span class="line">Selecting <span class="number">93</span>cbb9e4b6133180 (Genymotion Google Nexus <span class="number">5</span> - <span class="number">4.4</span>.<span class="number">4</span> - API <span class="number">19</span> - <span class="number">1080</span>x1920 <span class="number">4.4</span>.<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">            ..                    ..:.</span><br><span class="line">           .<span class="class">.o</span>..                  <span class="class">.r</span>..</span><br><span class="line">            .<span class="class">.a</span>..  . ....... .  .<span class="class">.nd</span></span><br><span class="line">              ro.<span class="class">.idsnemesisand</span>.<span class="class">.pr</span></span><br><span class="line">              <span class="class">.otectorandroidsneme</span>.</span><br><span class="line">           .,sisandprotectorandroids+.</span><br><span class="line">         .<span class="class">.nemesisandprotectorandroidsn</span>:.</span><br><span class="line">        <span class="class">.emesisandprotectorandroidsnemes</span>..</span><br><span class="line">      .<span class="class">.isandp</span>,..,rotectorandro,..,idsnem.</span><br><span class="line">      <span class="class">.isisandp</span>.<span class="class">.rotectorandroid</span>.<span class="class">.snemisis</span>.</span><br><span class="line">      ,andprotectorandroidsnemisisandprotec.</span><br><span class="line">     <span class="class">.torandroidsnemesisandprotectorandroid</span>.</span><br><span class="line">     <span class="class">.snemisisandprotectorandroidsnemesisan</span>:</span><br><span class="line">     <span class="class">.dprotectorandroidsnemesisandprotector</span>.</span><br><span class="line"></span><br><span class="line">drozer Console (v2.<span class="number">3.4</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="list">list</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; list</span><br><span class="line">app<span class="class">.activity</span><span class="class">.forintent</span>                   Find activities that can handle the given intent</span><br><span class="line">app<span class="class">.activity</span><span class="class">.info</span>                        Gets information about exported activities.</span><br><span class="line">app<span class="class">.activity</span><span class="class">.start</span>                       Start an Activity</span><br><span class="line">app<span class="class">.broadcast</span><span class="class">.info</span>                       Get information about broadcast receivers</span><br><span class="line">app<span class="class">.broadcast</span><span class="class">.send</span>                       Send broadcast using an intent</span><br><span class="line">app<span class="class">.broadcast</span><span class="class">.sniff</span>                      Register <span class="tag">a</span> broadcast receiver that can sniff particular intents</span><br><span class="line">app<span class="class">.package</span><span class="class">.attacksurface</span>                Get attack surface of package</span><br><span class="line">app<span class="class">.package</span><span class="class">.backup</span>                       Lists packages that use the backup API (returns true on FLAG_ALLOW_BACKUP)</span><br><span class="line">app<span class="class">.package</span><span class="class">.debuggable</span>                   Find debuggable packages</span><br><span class="line">app<span class="class">.package</span><span class="class">.info</span>                         Get information about installed packages</span><br><span class="line">app<span class="class">.package</span><span class="class">.launchintent</span>                 Get launch intent of package</span><br><span class="line">app<span class="class">.package</span><span class="class">.list</span>                         List Packages</span><br><span class="line">app<span class="class">.package</span><span class="class">.manifest</span>                     Get AndroidManifest<span class="class">.xml</span> of package</span><br><span class="line">app<span class="class">.package</span><span class="class">.native</span>                       Find Native libraries embedded <span class="keyword">in</span> the application.</span><br><span class="line">app<span class="class">.package</span><span class="class">.shareduid</span>                    Look <span class="keyword">for</span> packages with shared UIDs</span><br><span class="line">app<span class="class">.provider</span><span class="class">.columns</span>                     List <span class="attribute">columns</span> <span class="keyword">in</span> <span class="attribute">content</span> provider</span><br><span class="line">app<span class="class">.provider</span><span class="class">.delete</span>                      Delete from <span class="tag">a</span> <span class="attribute">content</span> provider</span><br><span class="line">app<span class="class">.provider</span><span class="class">.download</span>                    Download <span class="tag">a</span> file from <span class="tag">a</span> <span class="attribute">content</span> provider that supports files</span><br><span class="line">app<span class="class">.provider</span><span class="class">.finduri</span>                     Find referenced <span class="attribute">content</span> URIs <span class="keyword">in</span> <span class="tag">a</span> package</span><br><span class="line">app<span class="class">.provider</span><span class="class">.info</span>                        Get information about exported <span class="attribute">content</span> providers</span><br><span class="line">app<span class="class">.provider</span><span class="class">.insert</span>                      Insert into <span class="tag">a</span> Content Provider</span><br><span class="line">app<span class="class">.provider</span><span class="class">.query</span>                       Query <span class="tag">a</span> <span class="attribute">content</span> provider</span><br><span class="line">app<span class="class">.provider</span><span class="class">.read</span>                        Read from <span class="tag">a</span> <span class="attribute">content</span> provider that supports files</span><br><span class="line">app<span class="class">.provider</span><span class="class">.update</span>                      Update <span class="tag">a</span> record <span class="keyword">in</span> <span class="tag">a</span> <span class="attribute">content</span> provider</span><br><span class="line">app<span class="class">.service</span><span class="class">.info</span>                         Get information about exported services</span><br><span class="line">app<span class="class">.service</span><span class="class">.send</span>                         Send <span class="tag">a</span> Message to <span class="tag">a</span> service, and <span class="attribute">display</span> the reply</span><br><span class="line">app<span class="class">.service</span><span class="class">.start</span>                        Start Service</span><br><span class="line">app<span class="class">.service</span><span class="class">.stop</span>                         Stop Service</span><br><span class="line">auxiliary<span class="class">.webcontentresolver</span>             Start <span class="tag">a</span> web service interface to <span class="attribute">content</span> providers.</span><br><span class="line">exploit<span class="class">.jdwp</span><span class="class">.check</span>                       Open @jdwp-control and see which apps connect</span><br><span class="line">exploit<span class="class">.pilfer</span><span class="class">.general</span><span class="class">.apnprovider</span>       Reads APN <span class="attribute">content</span> provider</span><br><span class="line">exploit<span class="class">.pilfer</span><span class="class">.general</span><span class="class">.settingsprovider</span>  Reads Settings <span class="attribute">content</span> provider</span><br><span class="line">information<span class="class">.datetime</span>                     Print Date/Time</span><br><span class="line">information<span class="class">.deviceinfo</span>                   Get verbose device information</span><br><span class="line">information<span class="class">.permissions</span>                  Get <span class="tag">a</span> list of all permissions used by packages on the device</span><br><span class="line">scanner<span class="class">.activity</span><span class="class">.browsable</span>               Get all BROWSABLE activities that can be invoked from the web browser</span><br><span class="line">scanner<span class="class">.misc</span><span class="class">.native</span>                      Find native components included <span class="keyword">in</span> packages</span><br><span class="line">scanner<span class="class">.misc</span><span class="class">.readablefiles</span>               Find world-readable files <span class="keyword">in</span> the given folder</span><br><span class="line">scanner<span class="class">.misc</span><span class="class">.secretcodes</span>                 Search <span class="keyword">for</span> secret codes that can be used from the dialer</span><br><span class="line">scanner<span class="class">.misc</span><span class="class">.sflagbinaries</span>               Find suid/sgid binaries <span class="keyword">in</span> the given folder (default is /system).</span><br><span class="line">scanner<span class="class">.misc</span><span class="class">.writablefiles</span>               Find world-writable files <span class="keyword">in</span> the given folder</span><br><span class="line">scanner<span class="class">.provider</span><span class="class">.finduris</span>                Search <span class="keyword">for</span> <span class="attribute">content</span> providers that can be queried from our context.</span><br><span class="line">scanner<span class="class">.provider</span><span class="class">.injection</span>               Test <span class="attribute">content</span> providers <span class="keyword">for</span> SQL injection vulnerabilities.</span><br><span class="line">scanner<span class="class">.provider</span><span class="class">.sqltables</span>               Find tables accessible through SQL injection vulnerabilities.</span><br><span class="line">scanner<span class="class">.provider</span><span class="class">.traversal</span>               Test <span class="attribute">content</span> providers <span class="keyword">for</span> basic directory traversal vulnerabilities.</span><br><span class="line">shell<span class="class">.exec</span>                               Execute <span class="tag">a</span> single Linux command.</span><br><span class="line">shell<span class="class">.send</span>                               Send an ASH shell to <span class="tag">a</span> remote listener.</span><br><span class="line">shell<span class="class">.start</span>                              Enter into an interactive Linux shell.</span><br><span class="line">tools<span class="class">.file</span><span class="class">.download</span>                      Download <span class="tag">a</span> File</span><br><span class="line">tools<span class="class">.file</span><span class="class">.md5sum</span>                        Get md5 Checksum of file</span><br><span class="line">tools<span class="class">.file</span><span class="class">.size</span>                          Get size of file</span><br><span class="line">tools<span class="class">.file</span><span class="class">.upload</span>                        Upload <span class="tag">a</span> File</span><br><span class="line">tools<span class="class">.setup</span><span class="class">.busybox</span>                      Install Busybox.</span><br><span class="line">tools<span class="class">.setup</span><span class="class">.minimalsu</span>                    Prepare <span class="string">'minimal-su'</span> binary installation on the device.</span><br></pre></td></tr></table></figure>
<h2 id="命令选项">命令选项</h2><p>Help内容，供查阅用</p>
<h3 id="app-activity-forintent">app.activity.forintent</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.activity.forintent</span><br><span class="line">usage: <span class="command">run</span> app.activity.forintent [-h] [<span class="comment">--action ACTION] [--category CATEGORY [CATEGORY ...]]</span></span><br><span class="line">              [<span class="comment">--component PACKAGE COMPONENT] [--data-uri DATA_URI]</span></span><br><span class="line">              [<span class="comment">--extra TYPE KEY VALUE] [--flags FLAGS [FLAGS ...]]</span></span><br><span class="line">              [<span class="comment">--mimetype MIMETYPE]</span></span><br><span class="line"></span><br><span class="line">Find activities <span class="keyword">that</span> can handle <span class="keyword">the</span> formulated intent</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Find activities <span class="keyword">that</span> can handle web addresses:</span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="command">run</span> app.activity.forintent</span><br><span class="line">                <span class="comment">--action android.intent.action.VIEW</span></span><br><span class="line">                <span class="comment">--data http://www.google.com</span></span><br><span class="line"></span><br><span class="line">    Package <span class="property">name</span>: com.android.browser</span><br><span class="line">    Target activity: com.android.browser.BrowserActivity</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--action ACTION       specify the action to include in the Intent</span></span><br><span class="line">  <span class="comment">--category CATEGORY [CATEGORY ...]</span></span><br><span class="line">                        specify <span class="keyword">the</span> category <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--component PACKAGE COMPONENT</span></span><br><span class="line">                        specify <span class="keyword">the</span> component <span class="property">name</span> <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--data-uri DATA_URI   specify a Uri to attach as data in the Intent</span></span><br><span class="line">  <span class="comment">--extra TYPE KEY VALUE</span></span><br><span class="line">                        add an field <span class="keyword">to</span> <span class="keyword">the</span> Intent's extras bundle</span><br><span class="line">  <span class="comment">--flags FLAGS [FLAGS ...]</span></span><br><span class="line">                        specify one-<span class="keyword">or</span>-more flags <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--mimetype MIMETYPE   specify the MIME type to send in the Intent</span></span><br></pre></td></tr></table></figure>
<h3 id="app-activity-info">app.activity.info</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app<span class="class">.activity</span><span class="class">.info</span></span><br><span class="line">usage: run app<span class="class">.activity</span><span class="class">.info</span> [-h] [-<span class="tag">a</span> PACKAGE] [-f FILTER] [-i] [-u] [-v]</span><br><span class="line"></span><br><span class="line">Gets information about exported activities.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">List activities exported by the Browser:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.activity</span><span class="class">.info</span> --package com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">    Package: com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">      com<span class="class">.android</span><span class="class">.browser</span><span class="class">.BrowserActivity</span></span><br><span class="line">      com<span class="class">.android</span><span class="class">.browser</span><span class="class">.ShortcutActivity</span></span><br><span class="line">      com<span class="class">.android</span><span class="class">.browser</span><span class="class">.BrowserPreferencesPage</span></span><br><span class="line">      com<span class="class">.android</span><span class="class">.browser</span><span class="class">.BookmarkSearch</span></span><br><span class="line">      com<span class="class">.android</span><span class="class">.browser</span><span class="class">.AddBookmarkPage</span></span><br><span class="line">      com<span class="class">.android</span><span class="class">.browser</span><span class="class">.widget</span><span class="class">.BookmarkWidgetConfigure</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        specify the package to inspect</span><br><span class="line">  -f FILTER, --<span class="attribute">filter</span> FILTER</span><br><span class="line">                        specify <span class="tag">a</span> <span class="attribute">filter</span> term <span class="keyword">for</span> the activity name</span><br><span class="line">  -<span class="tag">i</span>, --show-intent-filters</span><br><span class="line">                        specify whether to include intent filters</span><br><span class="line">  -u, --unexported      include activities that are not exported</span><br><span class="line">  -v, --verbose         be verbose</span><br></pre></td></tr></table></figure>
<h3 id="app-activity-start">app.activity.start</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.activity.start</span><br><span class="line">usage: <span class="command">run</span> app.activity.start [-h] [<span class="comment">--action ACTION] [--category CATEGORY [CATEGORY ...]]</span></span><br><span class="line">              [<span class="comment">--component PACKAGE COMPONENT] [--data-uri DATA_URI]</span></span><br><span class="line">              [<span class="comment">--extra TYPE KEY VALUE] [--flags FLAGS [FLAGS ...]]</span></span><br><span class="line">              [<span class="comment">--mimetype MIMETYPE]</span></span><br><span class="line"></span><br><span class="line">Starts an Activity using <span class="keyword">the</span> formulated intent.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Start <span class="keyword">the</span> Browser <span class="keyword">with</span> an explicit intent:</span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="command">run</span> app.activity.start</span><br><span class="line">                <span class="comment">--component com.android.browser</span></span><br><span class="line">                            com.android.browser.BrowserActivity</span><br><span class="line">                <span class="comment">--flags ACTIVITY_NEW_TASK</span></span><br><span class="line"></span><br><span class="line">If no flags are specified, drozer will add <span class="keyword">the</span> ACTIVITY_NEW_TASK flag. To <span class="command">launch</span> an activity <span class="keyword">with</span> no flags:</span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="command">run</span> app.activity.start</span><br><span class="line">                <span class="comment">--component com.android.browser</span></span><br><span class="line">                            com.android.browser.BrowserActivity</span><br><span class="line">                <span class="comment">--flags 0x0</span></span><br><span class="line"></span><br><span class="line">Starting <span class="keyword">the</span> Browser <span class="keyword">with</span> an implicit intent:</span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="command">run</span> app.activity.start</span><br><span class="line">                <span class="comment">--action android.intent.action.VIEW</span></span><br><span class="line">                <span class="comment">--data-uri http://www.google.com</span></span><br><span class="line">                <span class="comment">--flags ACTIVITY_NEW_TASK</span></span><br><span class="line"></span><br><span class="line">For more information <span class="function_start"><span class="keyword">on</span></span> how <span class="keyword">to</span> formulate an Intent, type 'help intents'.</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--action ACTION       specify the action to include in the Intent</span></span><br><span class="line">  <span class="comment">--category CATEGORY [CATEGORY ...]</span></span><br><span class="line">                        specify <span class="keyword">the</span> category <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--component PACKAGE COMPONENT</span></span><br><span class="line">                        specify <span class="keyword">the</span> component <span class="property">name</span> <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--data-uri DATA_URI   specify a Uri to attach as data in the Intent</span></span><br><span class="line">  <span class="comment">--extra TYPE KEY VALUE</span></span><br><span class="line">                        add an field <span class="keyword">to</span> <span class="keyword">the</span> Intent's extras bundle</span><br><span class="line">  <span class="comment">--flags FLAGS [FLAGS ...]</span></span><br><span class="line">                        specify one-<span class="keyword">or</span>-more flags <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--mimetype MIMETYPE   specify the MIME type to send in the Intent</span></span><br></pre></td></tr></table></figure>
<h3 id="app-broadcast-info">app.broadcast.info</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app<span class="class">.broadcast</span><span class="class">.info</span></span><br><span class="line">usage: run app<span class="class">.broadcast</span><span class="class">.info</span> [-h] [-<span class="tag">a</span> PACKAGE] [-f FILTER] [-<span class="tag">p</span> PERMISSION] [-i] [-u] [-v]</span><br><span class="line"></span><br><span class="line">Get information about exported broadcast receivers.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Get receivers exported by the platform:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.broadcast</span><span class="class">.info</span> -<span class="tag">a</span> android</span><br><span class="line">    Package: android</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.BootReceiver</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.updates</span><span class="class">.CertPinInstallReceiver</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.updates</span><span class="class">.IntentFirewallInstallReceiver</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.updates</span><span class="class">.SmsShortCodesInstallReceiver</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.updates</span><span class="class">.CarrierProvisioningUrlsInstallReceiver</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.updates</span><span class="class">.TZInfoInstallReceiver</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.updates</span><span class="class">.SELinuxPolicyInstallReceiver</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.server</span><span class="class">.MasterClearReceiver</span></span><br><span class="line">        Permission: android<span class="class">.permission</span><span class="class">.MASTER_CLEAR</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs), Luander (luander.r@samsung.com)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        specify the package to inspect</span><br><span class="line">  -f FILTER, --<span class="attribute">filter</span> FILTER</span><br><span class="line">                        specify <span class="attribute">filter</span> conditions</span><br><span class="line">  -<span class="tag">p</span> PERMISSION, --permission PERMISSION</span><br><span class="line">                        specify permission conditions</span><br><span class="line">  -<span class="tag">i</span>, --show-intent-filters</span><br><span class="line">                        specify whether to include intent filters</span><br><span class="line">  -u, --unexported      include receivers that are not exported</span><br><span class="line">  -v, --verbose         be verbose</span><br></pre></td></tr></table></figure>
<h3 id="app-broadcast-send">app.broadcast.send</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.broadcast.send</span><br><span class="line">usage: <span class="command">run</span> app.broadcast.send [-h] [<span class="comment">--action ACTION] [--category CATEGORY [CATEGORY ...]]</span></span><br><span class="line">              [<span class="comment">--component PACKAGE COMPONENT] [--data-uri DATA_URI]</span></span><br><span class="line">              [<span class="comment">--extra TYPE KEY VALUE] [--flags FLAGS [FLAGS ...]]</span></span><br><span class="line">              [<span class="comment">--mimetype MIMETYPE]</span></span><br><span class="line"></span><br><span class="line">Sends an intent <span class="keyword">to</span> broadcast receivers.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Attempt <span class="keyword">to</span> send <span class="keyword">the</span> BOOT_COMPLETED broadcast message:</span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="command">run</span> app.broadcast.send</span><br><span class="line">                <span class="comment">--action android.intent.action.BOOT_COMPLETED</span></span><br><span class="line">    java.lang.SecurityException: Permission Denial: <span class="keyword">not</span> allowed <span class="keyword">to</span> send broadcast android.intent.action.BOOT_COMPLETED <span class="keyword">from</span> pid=<span class="number">955</span>,</span><br><span class="line">uid=<span class="number">10044</span></span><br><span class="line"></span><br><span class="line">For more information <span class="function_start"><span class="keyword">on</span></span> how <span class="keyword">to</span> formulate an Intent, type 'help intents'.</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--action ACTION       specify the action to include in the Intent</span></span><br><span class="line">  <span class="comment">--category CATEGORY [CATEGORY ...]</span></span><br><span class="line">                        specify <span class="keyword">the</span> category <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--component PACKAGE COMPONENT</span></span><br><span class="line">                        specify <span class="keyword">the</span> component <span class="property">name</span> <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--data-uri DATA_URI   specify a Uri to attach as data in the Intent</span></span><br><span class="line">  <span class="comment">--extra TYPE KEY VALUE</span></span><br><span class="line">                        add an field <span class="keyword">to</span> <span class="keyword">the</span> Intent's extras bundle</span><br><span class="line">  <span class="comment">--flags FLAGS [FLAGS ...]</span></span><br><span class="line">                        specify one-<span class="keyword">or</span>-more flags <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--mimetype MIMETYPE   specify the MIME type to send in the Intent</span></span><br></pre></td></tr></table></figure>
<h3 id="app-broadcast-sniff">app.broadcast.sniff</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.broadcast.sniff</span><br><span class="line">usage: run app.broadcast.sniff [-h] [--<span class="keyword">action</span> <span class="keyword">ACTION</span>] [--category CATEGORY [CATEGORY ...]]</span><br><span class="line">              [--<span class="type">data</span>-authority HOST PORT] [--<span class="type">data</span>-path PATH <span class="keyword">TYPE</span>]</span><br><span class="line">              [--<span class="type">data</span>-scheme DATA_SCHEME [DATA_SCHEME ...]]</span><br><span class="line">              [--<span class="type">data</span>-<span class="keyword">type</span> DATA_TYPE [DATA_TYPE ...]]</span><br><span class="line"></span><br><span class="line">Register a broadcast receiver that can sniff particular intents</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run app.broadcast.sniff --<span class="keyword">action</span> android.<span class="type">intent</span>.<span class="keyword">action</span>.BATTERY_CHANGED</span><br><span class="line">[*] Broadcast receiver registered to sniff matching intents</span><br><span class="line">[*] Output is updated once a second. Press Control+C to <span class="keyword">exit</span>.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Action</span>: android.<span class="type">intent</span>.<span class="keyword">action</span>.BATTERY_CHANGED</span><br><span class="line">Raw: <span class="type">Intent</span> &#123; act=android.<span class="type">intent</span>.<span class="keyword">action</span>.BATTERY_CHANGED flg=x60000010 (has extras) &#125;</span><br><span class="line">Extra: technology=Li-ion (java.lang.String)</span><br><span class="line">Extra: icon-small=<span class="number">17303411</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: health=<span class="number">2</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: online=<span class="number">4</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: <span class="keyword">status</span>=<span class="number">2</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: plugged=<span class="number">2</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: <span class="built_in">present</span>=true (java.lang.Boolean)</span><br><span class="line">Extra: level=<span class="number">80</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: <span class="built_in">scale</span>=<span class="number">100</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: temperature=<span class="number">280</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: current_avg=<span class="number">460</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: voltage=<span class="number">4151</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: charge_type=<span class="number">1</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line">Extra: invalid_charger=<span class="number">0</span> (java.lang.<span class="type">Integer</span>)</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2014</span>-<span class="number">06</span>-<span class="number">27</span></span><br><span class="line">Credit: Tyrone (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line"><span class="type">optional</span> arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  --<span class="keyword">action</span> <span class="keyword">ACTION</span>       specify the <span class="keyword">action</span> to <span class="keyword">include</span> <span class="type">in</span> the <span class="type">Intent</span> Filter</span><br><span class="line">  --category CATEGORY [CATEGORY ...]</span><br><span class="line">                        specify the category to <span class="keyword">include</span> <span class="type">in</span> the <span class="type">Intent</span> Filter</span><br><span class="line">  --<span class="type">data</span>-authority HOST PORT</span><br><span class="line">                        specify the <span class="type">data</span> authority to match against <span class="type">in</span> the <span class="type">Intent</span> Filter</span><br><span class="line">  --<span class="type">data</span>-path PATH <span class="keyword">TYPE</span></span><br><span class="line">                        specify the <span class="type">data</span> path to match against <span class="type">in</span> the <span class="type">Intent</span> Filter</span><br><span class="line">  --<span class="type">data</span>-scheme DATA_SCHEME [DATA_SCHEME ...]</span><br><span class="line">                        specify the <span class="type">data</span> scheme to match against <span class="type">in</span> the <span class="type">Intent</span> Filter</span><br><span class="line">  --<span class="type">data</span>-<span class="keyword">type</span> DATA_TYPE [DATA_TYPE ...]</span><br><span class="line">                        specify the <span class="type">data</span> <span class="keyword">type</span> to match against <span class="type">in</span> the <span class="type">Intent</span> Filter</span><br></pre></td></tr></table></figure>
<h3 id="app-package-attacksurface">app.package.attacksurface</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.<span class="keyword">package</span>.attacksurface</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.attacksurface [-h] <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line">Examine the attack surface of an installed <span class="keyword">package</span>.</span><br><span class="line"><span class="label"></span><br><span class="line">Examples:</span></span><br><span class="line">Finding the attack surface of the built-<span class="keyword">in</span> browser</span><br><span class="line"></span><br><span class="line">    dz&gt; run app.<span class="keyword">package</span>.attacksurface com.android.browser</span><br><span class="line"></span><br><span class="line">    <span class="number">6</span> activities exported</span><br><span class="line">    <span class="number">4</span> broadcast receivers exported</span><br><span class="line">    <span class="number">1</span> content providers exported</span><br><span class="line">    <span class="number">0</span> services exported</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional <span class="string">arguments:</span></span><br><span class="line">  <span class="keyword">package</span>     the identifier of the <span class="keyword">package</span> to inspect</span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="app-package-backup">app.package.backup</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.<span class="keyword">package</span>.attacksurface</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.attacksurface [-h] <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line">Examine the attack surface of an installed <span class="keyword">package</span>.</span><br><span class="line"><span class="label"></span><br><span class="line">Examples:</span></span><br><span class="line">Finding the attack surface of the built-<span class="keyword">in</span> browser</span><br><span class="line"></span><br><span class="line">    dz&gt; run app.<span class="keyword">package</span>.attacksurface com.android.browser</span><br><span class="line"></span><br><span class="line">    <span class="number">6</span> activities exported</span><br><span class="line">    <span class="number">4</span> broadcast receivers exported</span><br><span class="line">    <span class="number">1</span> content providers exported</span><br><span class="line">    <span class="number">0</span> services exported</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional <span class="string">arguments:</span></span><br><span class="line">  <span class="keyword">package</span>     the identifier of the <span class="keyword">package</span> to inspect</span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br><span class="line">dz&gt;</span><br><span class="line">dz&gt;</span><br><span class="line">dz&gt; help app.<span class="keyword">package</span>.backup</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.backup [-h] [-f FILTER] [-k]</span><br><span class="line"></span><br><span class="line">Lists packages that use the backup API (retruns <span class="literal">true</span> on FLAG_ALLOW_BACKUP)</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br><span class="line">  -f FILTER, --filter FILTER</span><br><span class="line">                        filter term (By Package Name)</span><br><span class="line">  -k, --api-keys        Only print packages that contain api keys</span><br></pre></td></tr></table></figure>
<h3 id="app-package-debuggable">app.package.debuggable</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.<span class="keyword">package</span>.debuggable</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.debuggable [-h] [-f FILTER] [-v]</span><br><span class="line"></span><br><span class="line">Lists packages which are debuggable.</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br><span class="line">  -f FILTER, --filter FILTER</span><br><span class="line">                        filter term</span><br><span class="line">  -v, --verbose         be verbose</span><br></pre></td></tr></table></figure>
<h3 id="app-package-info">app.package.info</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app<span class="class">.package</span><span class="class">.info</span></span><br><span class="line">usage: run app<span class="class">.package</span><span class="class">.info</span> [-h] [-<span class="tag">a</span> PACKAGE] [-d DEFINES_PERMISSION] [-f FILTER] [-g GID]</span><br><span class="line">              [-<span class="tag">p</span> PERMISSION] [-u UID] [-i]</span><br><span class="line"></span><br><span class="line">List all installed packages on the device with optional filters. Specify optional keywords to search <span class="keyword">for</span> <span class="keyword">in</span> the package information, or</span><br><span class="line">granted permissions.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Finding all packages with the keyword <span class="string">"browser"</span> <span class="keyword">in</span> their name:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.package</span><span class="class">.info</span> -f browser</span><br><span class="line"></span><br><span class="line">    Package: com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">      Process name: com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">      Version: <span class="number">4.1</span>.<span class="number">1</span></span><br><span class="line">      Data Directory: /data/data/com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">      APK path: /system/app/Browser<span class="class">.apk</span></span><br><span class="line">      UID: <span class="number">10014</span></span><br><span class="line">      GID: [<span class="number">3003</span>, <span class="number">1015</span>, <span class="number">1028</span>]</span><br><span class="line">      Shared libraries: null</span><br><span class="line">      Permissions:</span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.ACCESS_COARSE_LOCATION</span></span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.ACCESS_DOWNLOAD_MANAGER</span></span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.ACCESS_FINE_LOCATION</span></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line">Finding all packages with the <span class="string">"INSTALL_PACKAGES"</span> permission:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.package</span><span class="class">.info</span> -<span class="tag">p</span> INSTALL_PACKAGES</span><br><span class="line"></span><br><span class="line">    Package: com<span class="class">.android</span><span class="class">.packageinstaller</span></span><br><span class="line">      Process Name: com<span class="class">.android</span><span class="class">.packageinstaller</span></span><br><span class="line">      Version: <span class="number">4.1</span>.<span class="number">1</span>-<span class="number">403059</span></span><br><span class="line">      Data Directory: /data/data/com<span class="class">.android</span><span class="class">.packageinstaller</span></span><br><span class="line">      APK Path: /system/app/PackageInstaller<span class="class">.apk</span></span><br><span class="line">      UID: <span class="number">10003</span></span><br><span class="line">      GID: [<span class="number">1028</span>]</span><br><span class="line">      Shared Libraries: null</span><br><span class="line">      Shared User ID: null</span><br><span class="line">      Permissions:</span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.INSTALL_PACKAGES</span></span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.DELETE_PACKAGES</span></span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.CLEAR_APP_CACHE</span></span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.READ_PHONE_STATE</span></span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.CLEAR_APP_USER_DATA</span></span><br><span class="line">      - android<span class="class">.permission</span><span class="class">.READ_EXTERNAL_STORAGE</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        the identifier of the package to inspect</span><br><span class="line">  -d DEFINES_PERMISSION, --defines-permission DEFINES_PERMISSION</span><br><span class="line">                        <span class="attribute">filter</span> by the permissions <span class="tag">a</span> package defines</span><br><span class="line">  -f FILTER, --<span class="attribute">filter</span> FILTER</span><br><span class="line">                        keyword <span class="attribute">filter</span> conditions</span><br><span class="line">  -g GID, --gid GID     <span class="attribute">filter</span> packages by GID</span><br><span class="line">  -<span class="tag">p</span> PERMISSION, --permission PERMISSION</span><br><span class="line">                        permission <span class="attribute">filter</span> conditions</span><br><span class="line">  -u UID, --uid UID     <span class="attribute">filter</span> packages by UID</span><br><span class="line">  -<span class="tag">i</span>, --show-intent-filters</span><br><span class="line">                        show intent filters</span><br></pre></td></tr></table></figure>
<h3 id="app-package-launchintent">app.package.launchintent</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.<span class="keyword">package</span>.launchintent</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.launchintent [-h] [-r] <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line">Get the launch intent of an installed <span class="keyword">package</span>.</span><br><span class="line"><span class="label"></span><br><span class="line">Examples:</span></span><br><span class="line">Finding the launch intent of the Android browser <span class="string">package:</span></span><br><span class="line"></span><br><span class="line">    dz&gt; run app.<span class="keyword">package</span>.launchintent com.android.browser</span><br><span class="line"><span class="label"></span><br><span class="line">    Intent:</span></span><br><span class="line"><span class="label">      Action:</span> android.intent.action.MAIN</span><br><span class="line"><span class="label">      Component:</span> &#123;com.android.browser/com.android.browser.BrowserActivity&#125;</span><br><span class="line"><span class="label">      Data:</span> <span class="literal">null</span></span><br><span class="line"><span class="label">      Categories:</span></span><br><span class="line">        android.intent.category.LAUNCHER</span><br><span class="line"><span class="label">      Flags:</span> [ACTIVITY_NEW_TASK]</span><br><span class="line">      Mime <span class="string">Type:</span> <span class="literal">null</span></span><br><span class="line"><span class="label">      Extras:</span> <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2013</span>-<span class="number">03</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional <span class="string">arguments:</span></span><br><span class="line">  <span class="keyword">package</span>     the identifier of the <span class="keyword">package</span> to inspect</span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br><span class="line">  -r, --raw   display the raw output of the intent (<span class="keyword">as</span> <span class="keyword">if</span> you were calling intent.toString())</span><br></pre></td></tr></table></figure>
<h3 id="app-package-manifest">app.package.manifest</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.<span class="keyword">package</span>.manifest</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.manifest [-h] <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line">Retrieves AndroidManifest.xml from an installed <span class="keyword">package</span>.</span><br><span class="line"><span class="label"></span><br><span class="line">Examples:</span></span><br><span class="line">Getting the manifest <span class="keyword">for</span> drozer</span><br><span class="line"></span><br><span class="line">    dz&gt; run app.<span class="keyword">package</span>.manifest com.mwr.dz</span><br><span class="line"></span><br><span class="line">    &lt;manifest versionCode=<span class="string">"2"</span> versionName=<span class="string">"1.1"</span> <span class="keyword">package</span>=<span class="string">"com.mwr.dz"</span>&gt;</span><br><span class="line">      &lt;uses-sdk minSdkVersion=<span class="string">"8"</span> targetSdkVersion=<span class="string">"4"</span>&gt;</span><br><span class="line">      &lt;/uses-sdk&gt;</span><br><span class="line">      &lt;uses-permission name=<span class="string">"android.permission.INTERNET"</span>&gt;</span><br><span class="line">      &lt;/uses-permission&gt;</span><br><span class="line"></span><br><span class="line">      ...</span><br><span class="line">    &lt;/manifest&gt;</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional <span class="string">arguments:</span></span><br><span class="line">  <span class="keyword">package</span>     the identifier of the <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="app-package-list">app.package.list</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; <span class="keyword">help</span> <span class="keyword">app</span>.package.<span class="keyword">list</span></span><br><span class="line">usage: <span class="keyword">run</span> <span class="keyword">app</span>.package.<span class="keyword">list</span> [-<span class="keyword">h</span>] [-<span class="keyword">d</span> DEFINES_PERMISSION] [-f FILTER] [-<span class="keyword">g</span> GID]</span><br><span class="line">              [-p PERMISSION] [-<span class="keyword">u</span> UID] [-<span class="keyword">n</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">List</span> all installed packages <span class="keyword">on</span> the device. Specify optional keywords to <span class="keyword">search</span> <span class="keyword">for</span> <span class="keyword">in</span> the package name.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Finding all packages with the keyword <span class="string">"browser"</span> <span class="keyword">in</span> their name:</span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="keyword">run</span> <span class="keyword">app</span>.package.<span class="keyword">list</span> -f browser</span><br><span class="line"></span><br><span class="line">    com.android.browser</span><br><span class="line"></span><br><span class="line">Last Modified: 2012-11-06</span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (3 clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -<span class="keyword">h</span>, --<span class="keyword">help</span></span><br><span class="line">  -<span class="keyword">d</span> DEFINES_PERMISSION, --defines-permission DEFINES_PERMISSION</span><br><span class="line">                        filter <span class="keyword">by</span> the permissions a package defines</span><br><span class="line">  -f FILTER, --filter FILTER</span><br><span class="line">                        keyword filter conditions</span><br><span class="line">  -<span class="keyword">g</span> GID, --gid GID     filter packages <span class="keyword">by</span> GID</span><br><span class="line">  -p PERMISSION, --permission PERMISSION</span><br><span class="line">                        permission filter conditions</span><br><span class="line">  -<span class="keyword">u</span> UID, --uid UID     filter packages <span class="keyword">by</span> UID</span><br><span class="line">  -<span class="keyword">n</span>, --no_app_name     <span class="keyword">do</span> not <span class="keyword">print</span> the <span class="keyword">app</span> name</span><br></pre></td></tr></table></figure>
<h3 id="app-package-native">app.package.native</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.<span class="keyword">package</span>.native</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.native [-h] <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line">Find Native libraries embedded <span class="keyword">in</span> the application.</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2013</span>-<span class="number">03</span>-<span class="number">23</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional <span class="string">arguments:</span></span><br><span class="line">  <span class="keyword">package</span>     the identifier of the <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="app-package-shareduid">app.package.shareduid</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.<span class="keyword">package</span>.shareduid</span><br><span class="line"><span class="string">usage:</span> run app.<span class="keyword">package</span>.shareduid [-h] [-u UID]</span><br><span class="line"></span><br><span class="line">Finds packages that have shared UIDs and gives their accumulated permissions.</span><br><span class="line"><span class="label"></span><br><span class="line">Examples:</span></span><br><span class="line">Finding packages that share the UID <span class="number">10011</span></span><br><span class="line"></span><br><span class="line">    dz&gt; run app.<span class="keyword">package</span>.shareduid -u <span class="number">10011</span></span><br><span class="line"><span class="label"></span><br><span class="line">    UID:</span> <span class="number">10011</span> (com.motorola.blur.uid.<span class="string">provider_authenticator:</span><span class="number">10011</span>)</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.photobucket</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.picasa</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.yahoo</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.twitter</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.fixedemail</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.motorola.app</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.orkut</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.email</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.facebook</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.lastfm</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.linkedin</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.youtube</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.skyrock</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.activesync</span><br><span class="line">    Package <span class="string">Name:</span> com.motorola.blur.provider.flickr</span><br><span class="line">    Accumulated <span class="string">permissions:</span> com.motorola.blur.setupprovider.Permissions.ACCESS_ACCOUNTS; ...</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> MWR InfoSecurity (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br><span class="line">  -u UID, --uid UID  specify uid</span><br></pre></td></tr></table></figure>
<h3 id="app-provider-columns">app.provider.columns</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; <span class="keyword">help</span> <span class="keyword">app</span>.provider.columns</span><br><span class="line">usage: <span class="keyword">run</span> <span class="keyword">app</span>.provider.columns [-<span class="keyword">h</span>] uri</span><br><span class="line"></span><br><span class="line"><span class="keyword">List</span> the columns <span class="keyword">in</span> the specified content provider URI.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line"><span class="keyword">List</span> the columns of content:<span class="comment">//settings/secure</span></span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="keyword">run</span> <span class="keyword">app</span>.provider.columns content:<span class="comment">//settings/secure</span></span><br><span class="line">    | _id | name | value |</span><br><span class="line"></span><br><span class="line">Last Modified: 2012-11-06</span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (3 clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  uri         the content provider uri to <span class="keyword">query</span></span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -<span class="keyword">h</span>, --<span class="keyword">help</span></span><br></pre></td></tr></table></figure>
<h3 id="app-provider-delete">app.provider.delete</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.provider.<span class="built_in">delete</span></span><br><span class="line">usage: run app.provider.<span class="built_in">delete</span> [-h] [<span class="comment">--selection conditions] [--selection-args [arg [arg ...]]]</span></span><br><span class="line">              uri</span><br><span class="line"></span><br><span class="line">Delete <span class="built_in">from</span> <span class="operator">the</span> specified content provider URI.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Delete <span class="built_in">from</span> content://settings/secure, <span class="operator">with</span> name condition:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app.provider.<span class="built_in">delete</span> content://settings/secure</span><br><span class="line">                <span class="comment">--selection "name=?"</span></span><br><span class="line">                <span class="comment">--selection-args my_setting</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  uri                   <span class="operator">the</span> content provider uri <span class="built_in">to</span> query</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--selection conditions</span></span><br><span class="line">                        <span class="operator">the</span> conditions <span class="built_in">to</span> apply <span class="built_in">to</span> <span class="operator">the</span> query, <span class="keyword">as</span> <span class="operator">in</span> <span class="string">"WHERE &lt;conditions&gt;"</span></span><br><span class="line">  <span class="comment">--selection-args [arg [arg ...]]</span></span><br><span class="line">                        <span class="keyword">any</span> parameters <span class="built_in">to</span> <span class="built_in">replace</span> <span class="string">'?'</span> <span class="operator">in</span> <span class="comment">--selection</span></span><br></pre></td></tr></table></figure>
<h3 id="app-provider-download">app.provider.download</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.provider.download</span><br><span class="line">usage: run app.provider.download [-h] uri destination</span><br><span class="line"></span><br><span class="line">Read <span class="built_in">from</span> <span class="operator">the</span> specified content uri <span class="keyword">using</span> openInputStream, <span class="operator">and</span> download <span class="built_in">to</span> <span class="operator">the</span> <span class="built_in">local</span> <span class="built_in">file</span> <span class="keyword">system</span></span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Download, <span class="keyword">using</span> <span class="built_in">directory</span> traversal <span class="command"><span class="keyword">on</span> <span class="title">a</span> <span class="title">content</span> <span class="title">provider</span>:</span></span><br><span class="line"></span><br><span class="line">    dz&gt; run app.provider.download content://vulnerable.provider/../../../<span class="keyword">system</span>/etc/hosts /tmp/hostsfile</span><br><span class="line">    Written <span class="number">25</span> <span class="keyword">bytes</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  uri          <span class="operator">the</span> content provider URI <span class="built_in">to</span> <span class="built_in">read</span> <span class="operator">a</span> <span class="built_in">file</span> through</span><br><span class="line">  destination  path <span class="built_in">to</span> save <span class="operator">the</span> downloaded <span class="built_in">file</span> <span class="built_in">to</span></span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br></pre></td></tr></table></figure>
<h3 id="app-provider-finduri">app.provider.finduri</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app<span class="class">.provider</span><span class="class">.finduri</span></span><br><span class="line">usage: run app<span class="class">.provider</span><span class="class">.finduri</span> [-h] package</span><br><span class="line"></span><br><span class="line">Finds Content URIs within <span class="tag">a</span> package.</span><br><span class="line"></span><br><span class="line">This module uses <span class="tag">a</span> number of strategies to identify <span class="tag">a</span> <span class="attribute">content</span> URI, including inspecting the authorities, path permissions and searching <span class="keyword">for</span></span><br><span class="line">strings inside the package.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Find <span class="attribute">content</span> provider URIs <span class="keyword">in</span> the Browser:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.provider</span><span class="class">.finduri</span> com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">    Scanning com<span class="class">.android</span><span class="class">.browser</span>...</span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.android.browser.home/res/raw/</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//browser/search_suggest_query</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//browser/</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.android.browser.snapshots/</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.android.browser/bookmarks/search_suggest_query</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.android.browser/</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.google.settings/partner</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.android.browser.snapshots</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.google.android.partnersetup.rlzappprovider/</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//com.android.browser.home/</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//browser/bookmarks/search_suggest_query</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">13</span>-<span class="number">18</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  package     the package to search <span class="keyword">for</span> <span class="attribute">content</span> provider uris</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="app-provider-info">app.provider.info</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app<span class="class">.provider</span><span class="class">.info</span></span><br><span class="line">usage: run app<span class="class">.provider</span><span class="class">.info</span> [-h] [-<span class="tag">a</span> PACKAGE] [-f FILTER] [-<span class="tag">p</span> PERMISSION] [-u] [-v]</span><br><span class="line"></span><br><span class="line">List information about exported <span class="attribute">content</span> providers, with optional filters.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Find <span class="attribute">content</span> provider with the keyword <span class="string">"settings"</span> <span class="keyword">in</span> them:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.provider</span><span class="class">.info</span> -f settings</span><br><span class="line"></span><br><span class="line">    Package name: com<span class="class">.google</span><span class="class">.android</span><span class="class">.gsf</span></span><br><span class="line">    Authority: com<span class="class">.google</span><span class="class">.settings</span></span><br><span class="line">    Required Permission - Read: null</span><br><span class="line">    Required Permission - Write: com<span class="class">.google</span><span class="class">.android</span><span class="class">.providers</span><span class="class">.settings</span><span class="class">.permission</span><span class="class">.WRITE_GSETTINGS</span></span><br><span class="line">    Grant Uri Permissions: false</span><br><span class="line">    Multiprocess allowed: false</span><br><span class="line"></span><br><span class="line">    Package name: com<span class="class">.android</span><span class="class">.providers</span><span class="class">.settings</span></span><br><span class="line">    Authority: settings</span><br><span class="line">    Required Permission - Read: null</span><br><span class="line">    Required Permission - Write: android<span class="class">.permission</span><span class="class">.WRITE_SETTINGS</span></span><br><span class="line">    Grant Uri Permissions: false</span><br><span class="line">    Multiprocess allowed: false</span><br><span class="line"></span><br><span class="line">Finding <span class="attribute">content</span> providers that do not require permissions to read/write:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.provider</span><span class="class">.info</span> -<span class="tag">p</span> null</span><br><span class="line"></span><br><span class="line">    Package name: com<span class="class">.google</span><span class="class">.android</span><span class="class">.gsf</span></span><br><span class="line">    Authority: com<span class="class">.google</span><span class="class">.settings</span></span><br><span class="line">    Required Permission - Read: null</span><br><span class="line">    Required Permission - Write: com<span class="class">.google</span><span class="class">.android</span><span class="class">.providers</span><span class="class">.settings</span><span class="class">.permission</span><span class="class">.WRITE_GSETTINGS</span></span><br><span class="line">    Grant Uri Permissions: false</span><br><span class="line">    Multiprocess allowed: false</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        specify the package to inspect</span><br><span class="line">  -f FILTER, --<span class="attribute">filter</span> FILTER</span><br><span class="line">                        specify <span class="attribute">filter</span> conditions</span><br><span class="line">  -<span class="tag">p</span> PERMISSION, --permission PERMISSION</span><br><span class="line">                        specify permission conditions</span><br><span class="line">  -u, --unexported      include providers that are not exported</span><br><span class="line">  -v, --verbose         be verbose</span><br></pre></td></tr></table></figure>
<h3 id="app-provider-insert">app.provider.insert</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.provider.insert</span><br><span class="line">usage: run app.provider.insert [-h] [--boolean column <span class="type">data</span>] [--<span class="type">double</span> column <span class="type">data</span>]</span><br><span class="line">              [--<span class="built_in">float</span> column <span class="type">data</span>] [--<span class="type">integer</span> column <span class="type">data</span>]</span><br><span class="line">              [--long column <span class="type">data</span>] [--short column <span class="type">data</span>]</span><br><span class="line">              [--string column <span class="type">data</span>]</span><br><span class="line">              uri</span><br><span class="line"></span><br><span class="line">Insert into a content provider.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Insert into a vulnerable content provider:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app.provider.insert content://com.vulnerable.im/messages</span><br><span class="line">                --string date <span class="number">1331763850325</span></span><br><span class="line">                --string <span class="keyword">type</span> <span class="number">0</span></span><br><span class="line">                --<span class="type">integer</span> _id <span class="number">7</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  uri                   the content provider uri to insert into</span><br><span class="line"></span><br><span class="line"><span class="type">optional</span> arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  --boolean column <span class="type">data</span></span><br><span class="line">  --<span class="type">double</span> column <span class="type">data</span></span><br><span class="line">  --<span class="built_in">float</span> column <span class="type">data</span></span><br><span class="line">  --<span class="type">integer</span> column <span class="type">data</span></span><br><span class="line">  --long column <span class="type">data</span></span><br><span class="line">  --short column <span class="type">data</span></span><br><span class="line">  --string column <span class="type">data</span></span><br></pre></td></tr></table></figure>
<h3 id="app-provider-read">app.provider.read</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app<span class="class">.provider</span><span class="class">.read</span></span><br><span class="line">usage: run app<span class="class">.provider</span><span class="class">.read</span> [-h] uri</span><br><span class="line"></span><br><span class="line">Read from the specified <span class="attribute">content</span> uri using openInputStream</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Attempt directory traversal on <span class="tag">a</span> <span class="attribute">content</span> provider:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.provider</span><span class="class">.read</span> <span class="attribute">content</span>:<span class="comment">//settings/secure/../../../system/etc/hosts</span></span><br><span class="line">    java<span class="class">.io</span><span class="class">.FileNotFoundException</span>: No files supported by provider at <span class="attribute">content</span>:<span class="comment">//settings/secure/../../../system/etc/hosts</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  uri         the <span class="attribute">content</span> provider URI to read <span class="tag">a</span> file through</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="app-provider-update">app.provider.update</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.provider.update</span><br><span class="line">usage: run app.provider.update [-h] [<span class="comment">--selection conditions] [--selection-args [arg [arg ...]]]</span></span><br><span class="line">              [<span class="comment">--boolean column data] [--double column data]</span></span><br><span class="line">              [<span class="comment">--float column data] [--integer column data]</span></span><br><span class="line">              [<span class="comment">--long column data] [--short column data]</span></span><br><span class="line">              [<span class="comment">--string column data]</span></span><br><span class="line">              uri</span><br><span class="line"></span><br><span class="line">Update <span class="operator">the</span> specified content provider URI</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Updating, <span class="operator">the</span> assisted_gps_enabled setting:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app.provider.update content://settings/secure</span><br><span class="line">                <span class="comment">--selection "name=?"</span></span><br><span class="line">                <span class="comment">--selection-args assisted_gps_enabled</span></span><br><span class="line">                <span class="comment">--integer value 0</span></span><br><span class="line">    Done.</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  uri                   <span class="operator">the</span> content provider uri <span class="built_in">to</span> update <span class="operator">in</span></span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--selection conditions</span></span><br><span class="line">                        <span class="operator">the</span> conditions <span class="built_in">to</span> apply <span class="built_in">to</span> <span class="operator">the</span> query, <span class="keyword">as</span> <span class="operator">in</span> <span class="string">"WHERE &lt;conditions&gt;"</span></span><br><span class="line">  <span class="comment">--selection-args [arg [arg ...]]</span></span><br><span class="line">                        <span class="keyword">any</span> parameters <span class="built_in">to</span> <span class="built_in">replace</span> <span class="string">'?'</span> <span class="operator">in</span> <span class="comment">--selection</span></span><br><span class="line">  <span class="comment">--boolean column data</span></span><br><span class="line">  <span class="comment">--double column data</span></span><br><span class="line">  <span class="comment">--float column data</span></span><br><span class="line">  <span class="comment">--integer column data</span></span><br><span class="line">  <span class="comment">--long column data</span></span><br><span class="line">  <span class="comment">--short column data</span></span><br><span class="line">  <span class="comment">--string column data</span></span><br></pre></td></tr></table></figure>
<h3 id="app-service-info">app.service.info</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app<span class="class">.service</span><span class="class">.info</span></span><br><span class="line">usage: run app<span class="class">.service</span><span class="class">.info</span> [-h] [-<span class="tag">a</span> PACKAGE] [-f &lt;<span class="attribute">filter</span>&gt;] [-i] [-<span class="tag">p</span> &lt;<span class="attribute">filter</span>&gt;] [-u] [-v]</span><br><span class="line"></span><br><span class="line">Gets information about exported services.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">List services exported by the Browser:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.service</span><span class="class">.info</span> --package com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">    Package: com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">      No exported services.</span><br><span class="line"></span><br><span class="line">List exported services with no permissions required to interact with it:</span><br><span class="line"></span><br><span class="line">    dz&gt; run app<span class="class">.service</span><span class="class">.info</span> -<span class="tag">p</span> null</span><br><span class="line">    Package: com<span class="class">.android</span><span class="class">.email</span></span><br><span class="line">      com<span class="class">.android</span><span class="class">.email</span><span class="class">.service</span><span class="class">.EmailBroadcastProcessorService</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.email</span><span class="class">.Controller</span><span class="variable">$ControllerService</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.email</span><span class="class">.service</span><span class="class">.PopImapAuthenticatorService</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.email</span><span class="class">.service</span><span class="class">.PopImapSyncAdapterService</span></span><br><span class="line">        Permission: null</span><br><span class="line">      com<span class="class">.android</span><span class="class">.email</span><span class="class">.service</span><span class="class">.EasAuthenticatorService</span></span><br><span class="line">        Permission: null</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        specify the package to inspect</span><br><span class="line">  -f &lt;<span class="attribute">filter</span>&gt;, --<span class="attribute">filter</span> &lt;<span class="attribute">filter</span>&gt;</span><br><span class="line">  -<span class="tag">i</span>, --show-intent-filters</span><br><span class="line">                        specify whether to include intent filters</span><br><span class="line">  -<span class="tag">p</span> &lt;<span class="attribute">filter</span>&gt;, --permission &lt;<span class="attribute">filter</span>&gt;</span><br><span class="line">  -u, --unexported      include receivers that are not exported</span><br><span class="line">  -v</span><br></pre></td></tr></table></figure>
<h3 id="app-service-send">app.service.send</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.service.send</span><br><span class="line">usage: <span class="command">run</span> app.service.send [-h] [<span class="comment">--msg what arg1 arg2] [--extra type key value]</span></span><br><span class="line">              [<span class="comment">--no-response] [--timeout TIMEOUT] [--bundle-as-obj]</span></span><br><span class="line">              package component</span><br><span class="line"></span><br><span class="line">Binds <span class="keyword">to</span> an exported service, <span class="keyword">and</span> sends a Message <span class="keyword">to</span> <span class="keyword">it</span>. If <span class="keyword">the</span> service sends a reply, display <span class="keyword">the</span> message received <span class="keyword">and</span> any data <span class="keyword">it</span></span><br><span class="line"><span class="keyword">contains</span>.</span><br><span class="line"></span><br><span class="line">NB: <span class="keyword">by</span> default, this module will wait <span class="number">20</span> seconds <span class="keyword">for</span> a reply.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Deliver a Message <span class="keyword">to</span> a dummy <span class="type">application</span>, <span class="keyword">that</span> simply returns <span class="keyword">the</span> message:</span><br><span class="line"></span><br><span class="line">    dz&gt; <span class="command">run</span> app.service.send com.example.srv com.example.srv.Service <span class="comment">--msg 1 2 3 --extra float value 0.1324 --extra string test value</span></span><br><span class="line">    Got a reply <span class="keyword">from</span> com.example.srv/com.example.srv.Service:</span><br><span class="line">      what: <span class="number">1</span></span><br><span class="line">      arg1: <span class="number">2</span></span><br><span class="line">      arg2: <span class="number">3</span></span><br><span class="line">    Data:</span><br><span class="line">      value (float) : <span class="number">0.1324</span></span><br><span class="line">      test (<span class="type">string</span>) : value</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2013</span>-<span class="number">05</span>-<span class="number">20</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  package               <span class="keyword">the</span> package containing <span class="keyword">the</span> target service</span><br><span class="line">  component             <span class="keyword">the</span> fully-qualified service <span class="property">name</span> <span class="keyword">to</span> bind <span class="keyword">to</span></span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--msg what arg1 arg2  specify the what, arg1 and arg2 values to use when obtaining the message</span></span><br><span class="line">  <span class="comment">--extra type key value</span></span><br><span class="line">                        add an extra <span class="keyword">to</span> <span class="keyword">the</span> message's data bundle</span><br><span class="line">  <span class="comment">--no-response         do not wait for a response from the service</span></span><br><span class="line">  <span class="comment">--timeout TIMEOUT     specify a timeout in milliseconds (default is 20000)</span></span><br><span class="line">  <span class="comment">--bundle-as-obj       this is useful when the 'obj' parameter on the target is being cast back to a Bundle instead of using Message.getData()</span></span><br></pre></td></tr></table></figure>
<h3 id="app-service-start">app.service.start</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.service.start</span><br><span class="line">usage: <span class="command">run</span> app.service.start [-h] [<span class="comment">--action ACTION] [--category CATEGORY [CATEGORY ...]]</span></span><br><span class="line">              [<span class="comment">--component PACKAGE COMPONENT] [--data-uri DATA_URI]</span></span><br><span class="line">              [<span class="comment">--extra TYPE KEY VALUE] [--flags FLAGS [FLAGS ...]]</span></span><br><span class="line">              [<span class="comment">--mimetype MIMETYPE]</span></span><br><span class="line"></span><br><span class="line">Formulate an Intent <span class="keyword">to</span> start a service, <span class="keyword">and</span> deliver <span class="keyword">it</span> <span class="keyword">to</span> another <span class="type">application</span>.</span><br><span class="line"></span><br><span class="line">For more information <span class="function_start"><span class="keyword">on</span></span> how <span class="keyword">to</span> formulate an Intent, type 'help intents'.</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--action ACTION       specify the action to include in the Intent</span></span><br><span class="line">  <span class="comment">--category CATEGORY [CATEGORY ...]</span></span><br><span class="line">                        specify <span class="keyword">the</span> category <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--component PACKAGE COMPONENT</span></span><br><span class="line">                        specify <span class="keyword">the</span> component <span class="property">name</span> <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--data-uri DATA_URI   specify a Uri to attach as data in the Intent</span></span><br><span class="line">  <span class="comment">--extra TYPE KEY VALUE</span></span><br><span class="line">                        add an field <span class="keyword">to</span> <span class="keyword">the</span> Intent's extras bundle</span><br><span class="line">  <span class="comment">--flags FLAGS [FLAGS ...]</span></span><br><span class="line">                        specify one-<span class="keyword">or</span>-more flags <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--mimetype MIMETYPE   specify the MIME type to send in the Intent</span></span><br></pre></td></tr></table></figure>
<h3 id="app-service-stop">app.service.stop</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help app.service.stop</span><br><span class="line">usage: <span class="command">run</span> app.service.stop [-h] [<span class="comment">--action ACTION] [--category CATEGORY [CATEGORY ...]]</span></span><br><span class="line">              [<span class="comment">--component PACKAGE COMPONENT] [--data-uri DATA_URI]</span></span><br><span class="line">              [<span class="comment">--extra TYPE KEY VALUE] [--flags FLAGS [FLAGS ...]]</span></span><br><span class="line">              [<span class="comment">--mimetype MIMETYPE]</span></span><br><span class="line"></span><br><span class="line">Formulate an Intent <span class="keyword">to</span> stop a service, <span class="keyword">and</span> deliver <span class="keyword">it</span> <span class="keyword">to</span> another <span class="type">application</span>.</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--action ACTION       specify the action to include in the Intent</span></span><br><span class="line">  <span class="comment">--category CATEGORY [CATEGORY ...]</span></span><br><span class="line">                        specify <span class="keyword">the</span> category <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--component PACKAGE COMPONENT</span></span><br><span class="line">                        specify <span class="keyword">the</span> component <span class="property">name</span> <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--data-uri DATA_URI   specify a Uri to attach as data in the Intent</span></span><br><span class="line">  <span class="comment">--extra TYPE KEY VALUE</span></span><br><span class="line">                        add an field <span class="keyword">to</span> <span class="keyword">the</span> Intent's extras bundle</span><br><span class="line">  <span class="comment">--flags FLAGS [FLAGS ...]</span></span><br><span class="line">                        specify one-<span class="keyword">or</span>-more flags <span class="keyword">to</span> include <span class="keyword">in</span> <span class="keyword">the</span> Intent</span><br><span class="line">  <span class="comment">--mimetype MIMETYPE   specify the MIME type to send in the Intent</span></span><br></pre></td></tr></table></figure>
<h3 id="auxiliary-webcontentresolver">auxiliary.webcontentresolver</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help auxiliary.webcontentresolver</span><br><span class="line">usage: <span class="command">run</span> auxiliary.webcontentresolver [-h] [-p PORT]</span><br><span class="line"></span><br><span class="line">Start a Web Service interface <span class="keyword">to</span> Content Providers. This allows you <span class="keyword">to</span> use web <span class="type">application</span> testing capabilities <span class="keyword">and</span> tools <span class="keyword">to</span> test content</span><br><span class="line">providers.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; <span class="command">run</span> auxiliary.webcontentresolver <span class="comment">--port 8080</span></span><br><span class="line"></span><br><span class="line">    WebContentResolver started <span class="function_start"><span class="keyword">on</span></span> port <span class="number">8080.</span></span><br><span class="line">    Ctrl+C <span class="keyword">to</span> Stop</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: Nils (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  -p PORT, <span class="comment">--port PORT  the port to start the WebContentResolver on</span></span><br></pre></td></tr></table></figure>
<h3 id="exploit-jdwp-check">exploit.jdwp.check</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help exploit<span class="class">.jdwp</span><span class="class">.check</span></span><br><span class="line">usage: run exploit<span class="class">.jdwp</span><span class="class">.check</span> [-h]</span><br><span class="line"></span><br><span class="line">Open @jdwp-control and see which applications connect. This is an issue because then drozer can act as <span class="tag">a</span> debugger <span class="keyword">for</span> the connected</span><br><span class="line">application. This could be used to invoke arbitrary <span class="tag">code</span> within the context of the debuggable application. See</span><br><span class="line">https:<span class="comment">//labs.mwrinfosecurity.com/blog/2011/07/07/debuggable-apps-in-android-market/ for more details.</span></span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run exploit<span class="class">.jdwp</span><span class="class">.check</span></span><br><span class="line">[+] Opened @jdwp-control</span><br><span class="line">[*] Accepting connections</span><br><span class="line"></span><br><span class="line">[+] com<span class="class">.mwr</span><span class="class">.dz</span> connected!</span><br><span class="line">[+] Received PID = <span class="number">4931</span></span><br><span class="line">[+] This device is vulnerable!</span><br><span class="line"></span><br><span class="line">[+] com<span class="class">.mwr</span><span class="class">.dz</span> connected!</span><br><span class="line">[+] Received PID = <span class="number">4940</span></span><br><span class="line">[+] This device is vulnerable!</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2014</span>-<span class="number">07</span>-<span class="number">29</span></span><br><span class="line">Credit: Tyrone (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="exploit-pilfer-general-apnprovider">exploit.pilfer.general.apnprovider</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help exploit<span class="class">.pilfer</span><span class="class">.general</span><span class="class">.apnprovider</span></span><br><span class="line">usage: run exploit<span class="class">.pilfer</span><span class="class">.general</span><span class="class">.apnprovider</span> [-h]</span><br><span class="line"></span><br><span class="line">Exploit <span class="tag">a</span> leaky <span class="attribute">content</span> provider to read APN configuration information.</span><br><span class="line"></span><br><span class="line">The target provider is <span class="attribute">content</span>:<span class="comment">//telephony/carriers/preferapn</span></span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run exploit<span class="class">.pilfer</span><span class="class">.general</span><span class="class">.apnprovider</span></span><br><span class="line">             _id  <span class="number">1</span></span><br><span class="line">            name  T-Mobile US</span><br><span class="line">         numeric  <span class="number">310260</span></span><br><span class="line">             mcc  <span class="number">310</span></span><br><span class="line">             mnc  <span class="number">260</span></span><br><span class="line">             apn  epc<span class="class">.tmobile</span><span class="class">.com</span></span><br><span class="line">             ...  ...</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: Rob (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="exploit-pilfer-general-settingsprovider">exploit.pilfer.general.settingsprovider</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help exploit<span class="class">.pilfer</span><span class="class">.general</span><span class="class">.settingsprovider</span></span><br><span class="line">usage: run exploit<span class="class">.pilfer</span><span class="class">.general</span><span class="class">.settingsprovider</span> [-h]</span><br><span class="line"></span><br><span class="line">Reads Settings Information</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: Tyrone (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br></pre></td></tr></table></figure>
<h3 id="information-datetime">information.datetime</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; run information<span class="class">.datetime</span></span><br><span class="line">The <span class="tag">time</span> is <span class="number">20160423</span>T182546.</span><br></pre></td></tr></table></figure>
<h3 id="information-deviceinfo">information.deviceinfo</h3><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="header">dz&gt; run information.deviceinfo</span><br><span class="line">-----------------------------------------</span></span><br><span class="line"><span class="header">/proc/version</span><br><span class="line">-----------------------------------------</span></span><br><span class="line">Linux version 3.4.0-g0c665cd-00561-g8238df2 (builder@qh-miui-ota-bd57) (gcc version 4.9.x-google 20140827 (prerelease) (GCC) ) #1 SMP PREEMPT Thu Apr 14 03:02:40 CST 2016</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="code">-----------------------------------------</span><br><span class="line">/system/build.prop</span><br><span class="line">-----------------------------------------</span></span><br><span class="line"></span><br><span class="line"># begin build properties</span><br><span class="line"># autogenerated by buildinfo.sh</span><br><span class="line">ro.build.id=MMB29M</span><br><span class="line">ro.build.display.id=MMB29M</span><br><span class="line">ro.build.version.incremental=6.4.14</span><br><span class="line">ro.build.version.sdk=23</span><br><span class="line">ro.build.version.preview<span class="emphasis">_sdk=0</span><br><span class="line">ro.build.version.codename=REL</span><br><span class="line">ro.build.version.all_</span>codenames=REL</span><br><span class="line">ro.build.version.release=6.0.1</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="information-permissions">information.permissions</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help information.permissions</span><br><span class="line">usage: run information.permissions [-h] [<span class="comment">--permission PERMISSION]</span></span><br><span class="line">              [<span class="comment">--protectionlevel PROTECTIONLEVEL]</span></span><br><span class="line"></span><br><span class="line">Get <span class="operator">a</span> list <span class="operator">of</span> all permissions used <span class="keyword">by</span> packages <span class="command"><span class="keyword">on</span> <span class="title">the</span> <span class="title">device</span> <span class="title">as</span> <span class="title">well</span> <span class="title">as</span> <span class="title">their</span> <span class="title">descriptions</span> <span class="title">and</span> <span class="title">protection</span> <span class="title">levels</span></span></span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run information.permissions <span class="comment">--permission android.permission.INSTALL_PACKAGES</span></span><br><span class="line">Allows <span class="operator">the</span> app <span class="built_in">to</span> install <span class="built_in">new</span> <span class="operator">or</span> updated Android packages. Malicious apps may use this <span class="built_in">to</span> <span class="built_in">add</span> <span class="built_in">new</span> apps <span class="operator">with</span> arbitrarily powerful</span><br><span class="line">permissions.</span><br><span class="line"><span class="number">18</span> - signature|<span class="keyword">system</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2014</span>-<span class="number">06</span>-<span class="number">17</span></span><br><span class="line">Credit: Tyrone (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  <span class="comment">--permission PERMISSION</span></span><br><span class="line">                        <span class="built_in">filter</span> <span class="keyword">by</span> specific permission</span><br><span class="line">  <span class="comment">--protectionlevel PROTECTIONLEVEL</span></span><br><span class="line">                        <span class="built_in">filter</span> <span class="keyword">by</span> protection level</span><br></pre></td></tr></table></figure>
<h3 id="scanner-activity-browsable">scanner.activity.browsable</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner<span class="class">.activity</span><span class="class">.browsable</span></span><br><span class="line">usage: run scanner<span class="class">.activity</span><span class="class">.browsable</span> [-h] [-<span class="tag">a</span> PACKAGE] [-f FILTER]</span><br><span class="line"></span><br><span class="line">Get all BROWSABLE activities that can be invoked from the web browser through the use of <span class="tag">a</span> custom data handler. This can indicate the</span><br><span class="line">presence of an entry point into application <span class="tag">code</span> from <span class="tag">a</span> web browser.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run scanner<span class="class">.activity</span><span class="class">.browsable</span></span><br><span class="line">Package: com<span class="class">.android</span><span class="class">.contacts</span></span><br><span class="line">  Invocable URIs:</span><br><span class="line">    tel:<span class="comment">//</span></span><br><span class="line">  Classes:</span><br><span class="line">    <span class="class">.activities</span><span class="class">.PeopleActivity</span></span><br><span class="line">    com<span class="class">.android</span><span class="class">.contacts</span><span class="class">.NonPhoneActivity</span></span><br><span class="line"></span><br><span class="line">Package: com<span class="class">.android</span><span class="class">.calendar</span></span><br><span class="line">  Invocable URIs:</span><br><span class="line">    http:<span class="comment">//www.google.com/calendar/event (PATTERN_PREFIX)</span></span><br><span class="line">  Classes:</span><br><span class="line">    GoogleCalendarUriIntentFilter</span><br><span class="line"></span><br><span class="line">Package: com<span class="class">.android</span><span class="class">.browser</span></span><br><span class="line">  Invocable URIs:</span><br><span class="line">    http:<span class="comment">//</span></span><br><span class="line">  Classes:</span><br><span class="line">    BrowserActivity</span><br><span class="line"></span><br><span class="line">Package: com<span class="class">.android</span><span class="class">.music</span></span><br><span class="line">  Invocable URIs:</span><br><span class="line">    http:<span class="comment">//</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="comment">//</span></span><br><span class="line">  Classes:</span><br><span class="line">    AudioPreview</span><br><span class="line"></span><br><span class="line">Package: com<span class="class">.android</span><span class="class">.mms</span></span><br><span class="line">  Invocable URIs:</span><br><span class="line">    sms:<span class="comment">//</span></span><br><span class="line">    mms:<span class="comment">//</span></span><br><span class="line">  Classes:</span><br><span class="line">    <span class="class">.ui</span><span class="class">.ComposeMessageActivity</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2014</span>-<span class="number">10</span>-<span class="number">31</span></span><br><span class="line">Credit: Tyrone (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span>-clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        specify <span class="tag">a</span> package to search</span><br><span class="line">  -f FILTER, --<span class="attribute">filter</span> FILTER</span><br><span class="line">                        <span class="attribute">filter</span> term</span><br></pre></td></tr></table></figure>
<h3 id="scanner-misc-native">scanner.misc.native</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner<span class="class">.misc</span><span class="class">.native</span></span><br><span class="line">usage: run scanner<span class="class">.misc</span><span class="class">.native</span> [-h] [-<span class="tag">a</span> PACKAGE] [-f FILTER] [-v]</span><br><span class="line"></span><br><span class="line">Lists packages which use native <span class="tag">code</span>.</span><br><span class="line">NOTE: This only checks <span class="keyword">for</span> libraries that are bundled inside the package APK. System packages often do not contain the libraries they use</span><br><span class="line">inside their APK and so this module will miss them.</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        specify <span class="tag">a</span> package to search</span><br><span class="line">  -f FILTER, --<span class="attribute">filter</span> FILTER</span><br><span class="line">                        <span class="attribute">filter</span> term</span><br><span class="line">  -v, --verbose         be verbose</span><br></pre></td></tr></table></figure>
<h3 id="scanner-misc-readablefiles">scanner.misc.readablefiles</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner<span class="class">.misc</span><span class="class">.readablefiles</span></span><br><span class="line">usage: run scanner<span class="class">.misc</span><span class="class">.readablefiles</span> [-h] [-p] target</span><br><span class="line"></span><br><span class="line">Find world-readable files <span class="keyword">in</span> the given folder</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run scanner<span class="class">.misc</span><span class="class">.readablefiles</span> /data -<span class="tag">p</span></span><br><span class="line">Discovered world-readable files <span class="keyword">in</span> /data:</span><br><span class="line">  /data/system/packages-stopped<span class="class">.xml</span></span><br><span class="line">  /data/system/packages<span class="class">.list</span></span><br><span class="line">  /data/system/packages<span class="class">.xml</span></span><br><span class="line">  /data/system/uiderrors<span class="class">.txt</span></span><br><span class="line">  ...&lt;snipped&gt;...</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2013</span>-<span class="number">04</span>-<span class="number">18</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  target            the target directory to search</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">p</span>, --privileged  request root to perform the task <span class="keyword">in</span> <span class="tag">a</span> privileged context</span><br></pre></td></tr></table></figure>
<h3 id="scanner-misc-secretcodes">scanner.misc.secretcodes</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner.misc.secretcodes</span><br><span class="line"><span class="string">usage:</span> run scanner.misc.secretcodes [-h] [-v]</span><br><span class="line"></span><br><span class="line">Finds Secret Codes from all installed packages.</span><br><span class="line"></span><br><span class="line">Last <span class="string">Modified:</span> <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="string">Credit:</span> Mike (<span class="annotation">@mwrlabs</span>)</span><br><span class="line"><span class="string">License:</span> BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional <span class="string">arguments:</span></span><br><span class="line">  -h, --help</span><br><span class="line">  -v, --verbose  be verbose</span><br></pre></td></tr></table></figure>
<h3 id="scanner-misc-sflagbinaries">scanner.misc.sflagbinaries</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner.misc.sflagbinaries</span><br><span class="line">usage: run scanner.misc.sflagbinaries [-h] [-t TARGET] [-p]</span><br><span class="line"></span><br><span class="line">Find suid/sgid binaries <span class="operator">in</span> <span class="operator">the</span> given <span class="built_in">folder</span> (default is /<span class="keyword">system</span>). Uses <span class="operator">the</span> method <span class="built_in">from</span></span><br><span class="line"><span class="keyword">http</span>://hexesec.wordpress.com/<span class="number">2009</span>/<span class="number">10</span>/<span class="number">14</span>/exploiting-suid-binaries/.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run scanner.misc.sflagbinaries</span><br><span class="line">Discovered suid/sgid <span class="built_in">files</span> <span class="operator">in</span> /<span class="keyword">system</span>:</span><br><span class="line">  /<span class="keyword">system</span>/xbin/procmem</span><br><span class="line">  /<span class="keyword">system</span>/xbin/librank</span><br><span class="line">  /<span class="keyword">system</span>/xbin/tcpdump</span><br><span class="line">  /<span class="keyword">system</span>/xbin/procrank</span><br><span class="line">  /<span class="keyword">system</span>/bin/su</span><br><span class="line">  /<span class="keyword">system</span>/bin/run-<span class="keyword">as</span></span><br><span class="line">  /<span class="keyword">system</span>/bin/ping</span><br><span class="line">  /<span class="keyword">system</span>/bin/netcfg</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2013</span>-<span class="number">04</span>-<span class="number">18</span></span><br><span class="line">Credit: Tyrone (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, <span class="comment">--help</span></span><br><span class="line">  -t TARGET, <span class="comment">--target TARGET</span></span><br><span class="line">                        <span class="operator">the</span> target <span class="built_in">directory</span> <span class="built_in">to</span> search</span><br><span class="line">  -p, <span class="comment">--privileged      request root to perform the task in a privileged context</span></span><br></pre></td></tr></table></figure>
<h3 id="scanner-misc-writablefiles">scanner.misc.writablefiles</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner<span class="class">.misc</span><span class="class">.writablefiles</span></span><br><span class="line">usage: run scanner<span class="class">.misc</span><span class="class">.writablefiles</span> [-h] [-p] target</span><br><span class="line"></span><br><span class="line">Find world-writable files <span class="keyword">in</span> the given folder</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">dz&gt; run scanner<span class="class">.misc</span><span class="class">.writablefiles</span> /data --privileged</span><br><span class="line">Discovered world-writable files <span class="keyword">in</span> /data:</span><br><span class="line">  /data/anr/slow00<span class="class">.txt</span></span><br><span class="line">  /data/anr/slow01<span class="class">.txt</span></span><br><span class="line">  ...&lt;snipped&gt;...</span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2013</span>-<span class="number">04</span>-<span class="number">18</span></span><br><span class="line">Credit: MWR InfoSecurity (@mwrlabs)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  target            the target directory to search</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">p</span>, --privileged  request root to perform the task <span class="keyword">in</span> <span class="tag">a</span> privileged context</span><br></pre></td></tr></table></figure>
<h3 id="scanner-provider-finduris">scanner.provider.finduris</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner<span class="class">.provider</span><span class="class">.finduris</span></span><br><span class="line">usage: run scanner<span class="class">.provider</span><span class="class">.finduris</span> [-h] [-<span class="tag">a</span> PACKAGE]</span><br><span class="line"></span><br><span class="line">Search <span class="keyword">for</span> <span class="attribute">content</span> providers that can be queried from our context.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">run scanner<span class="class">.provider</span><span class="class">.finduris</span></span><br><span class="line"></span><br><span class="line">Last Modified: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line">Credit: Luander (luander.r@samsung.com)</span><br><span class="line">License: BSD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -<span class="tag">a</span> PACKAGE, --package PACKAGE</span><br><span class="line">                        specify <span class="tag">a</span> package to search</span><br></pre></td></tr></table></figure>
<h3 id="scanner-provider-injection">scanner.provider.injection</h3><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner.<span class="literal">provider</span>.injection</span><br><span class="line">usage: run scanner.<span class="literal">provider</span>.injection [-h] [-a &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;]</span><br><span class="line"></span><br><span class="line"><span class="constant">Search</span> for <span class="literal">content</span> providers with <span class="constant">S</span>QL <span class="constant">Injection</span> vulnerabilities.</span><br><span class="line"></span><br><span class="line"><span class="constant">Last</span> <span class="constant">Modified</span>: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="constant">Credit</span>: <span class="constant">Rob</span> (@mwrlabs)</span><br><span class="line"><span class="constant">License</span>: <span class="constant">B</span>SD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -a &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;, --<span class="keyword">package</span> &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;, --uri &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;</span><br><span class="line">                        specify a <span class="keyword">package</span>, <span class="keyword">or</span> <span class="literal">content</span> uri to search</span><br></pre></td></tr></table></figure>
<h3 id="scanner-provider-sqltables">scanner.provider.sqltables</h3><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner.<span class="literal">provider</span>.sqltables</span><br><span class="line">usage: run scanner.<span class="literal">provider</span>.sqltables [-h] [-a &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;]</span><br><span class="line"></span><br><span class="line"><span class="constant">Enumerate</span> <span class="constant">S</span>QL tables accessible through <span class="constant">S</span>QL (projection) <span class="constant">Injection</span> vulnerabilities.</span><br><span class="line"></span><br><span class="line"><span class="constant">Last</span> <span class="constant">Modified</span>: <span class="number">2013</span>-<span class="number">01</span>-<span class="number">23</span></span><br><span class="line"><span class="constant">Credit</span>: <span class="constant">Rijnard</span></span><br><span class="line"><span class="constant">License</span>: <span class="constant">B</span>SD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -a &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;, --<span class="keyword">package</span> &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;, --uri &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;</span><br><span class="line">                        specify a <span class="keyword">package</span>, <span class="keyword">or</span> <span class="literal">content</span> uri to search</span><br></pre></td></tr></table></figure>
<h3 id="scanner-provider-traversal">scanner.provider.traversal</h3><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dz&gt; help scanner.<span class="literal">provider</span>.traversal</span><br><span class="line">usage: run scanner.<span class="literal">provider</span>.traversal [-h] [-a &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;]</span><br><span class="line"></span><br><span class="line"><span class="constant">Finds</span> <span class="literal">content</span> providers with basic <span class="literal">directory</span> traversal vulnerabilities.</span><br><span class="line"></span><br><span class="line"><span class="constant">Last</span> <span class="constant">Modified</span>: <span class="number">2012</span>-<span class="number">11</span>-<span class="number">06</span></span><br><span class="line"><span class="constant">Credit</span>: <span class="constant">Nils</span> (@mwrlabs)</span><br><span class="line"><span class="constant">License</span>: <span class="constant">B</span>SD (<span class="number">3</span> clause)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help</span><br><span class="line">  -a &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;, --<span class="keyword">package</span> &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;, --uri &lt;<span class="keyword">package</span> <span class="keyword">or</span> uri&gt;</span><br><span class="line">                        specify a <span class="keyword">package</span>, <span class="keyword">or</span> <span class="literal">content</span> uri to search</span><br></pre></td></tr></table></figure>
<!--link-->
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Drozer">Drozer</h2><p>Drozer, 一个用于Android App 安全测试的工具。<a href="https://labs.mwrinfosecurity.com/assets/BlogFiles/mwri-drozer-user-guide-2015-03-23.pdf">使用说明文档</a></p>
<h2 id="安装">安装</h2><p><a href="https://labs.mwrinfosecurity.com/tools/drozer/">Drozer官网</a></p>
<ul>
<li>下载<code>Drozer(Python.egg)</code></li>
<li><p>解压后查看安装文档<code>INSTALLING</code>,安装所需要的依赖，需要root权限</p>
<blockquote>
<p>  <code>sudo easy_install --allow-hosts pypi.python.org protobuf==2.4.1</code><br>  <code>sudo easy_install twisted==10.2.0</code><br>  <code>sudo easy_install ./drozer-2.3.0-py2.7.egg</code></p>
</blockquote>
</li>
<li>安装<code>agent.apk</code>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[让你的CMD在打印logcat的时候带上颜色]]></title>
    <link href="http://www.xuxu1988.com/2016/01/29/cmd-color/"/>
    <id>http://www.xuxu1988.com/2016/01/29/cmd-color/</id>
    <published>2016-01-29T10:29:54.000Z</published>
    <updated>2016-04-29T12:43:51.000Z</updated>
    <content type="html"><![CDATA[<p>在平常测试 Android 应用的时候，个人是不太喜欢使用 DDMS 或者 Monitor 抓取 logcat 的，而是习惯了使用命令代替。</p>
<p>在 CMD 中打印 logcat 的时候，由于 logcat 的信息量非常大，默认的缓冲区太小，会导致 log 信息很容易被冲掉，因此需要将 CMD 的缓冲区高度设置为最大：<br><img src="http://i13.tietuku.cn/c563d2d835357ac4.png" alt="cmd"></p>
<a id="more"></a>
<p>一般情况下，在 CMD 中执行 <code>adb logcat -v time</code> 打印 log 时是不带有颜色的，看起来相当的不爽：<br><img src="http://i13.tietuku.cn/d8e91d6448d3ad87.png" alt="no_color"></p>
<p>通过使用 Python，可以将输出的 logcat 内容按优先级进行过滤并加上颜色，然后再显示在 CMD 中：<br><img src="http://i13.tietuku.cn/9125acd753f4dc05.png" alt="color"></p>
<p>加上颜色后，看起来就舒服多了！</p>
<p>具体实现的代码请查看 <a href="https://github.com/gb112211/AndroidTestScripts/blob/master/logcat/logcat.py" target="_blank" rel="external">logcat.py</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>在平常测试 Android 应用的时候，个人是不太喜欢使用 DDMS 或者 Monitor 抓取 logcat 的，而是习惯了使用命令代替。</p>
<p>在 CMD 中打印 logcat 的时候，由于 logcat 的信息量非常大，默认的缓冲区太小，会导致 log 信息很容易被冲掉，因此需要将 CMD 的缓冲区高度设置为最大：<br><img src="http://i13.tietuku.cn/c563d2d835357ac4.png" alt="cmd"></p>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[接口测试之Moco框架]]></title>
    <link href="http://www.xuxu1988.com/2016/01/29/api-test-moco/"/>
    <id>http://www.xuxu1988.com/2016/01/29/api-test-moco/</id>
    <published>2016-01-29T10:26:03.000Z</published>
    <updated>2016-03-24T12:23:39.000Z</updated>
    <content type="html"><![CDATA[<h3 id="Moco_简介">Moco 简介</h3><p>Moco 的作者是郑晔，该框架还在 JavaOne 2013 大会上获过奖。<br>简单的说，Moco 是一个搭建模拟服务器的工具，其支持 API 和独立运行两种方式，前者通常是在 junit 等测试框架中使用，后者则是通过运行一个 jar 包开启服务。<br>Moco 能帮助解决开发中的哪些问题？作者的回答如下：</p>
<blockquote>
<p>   Moco是针对HTTP集成而生的，不过，现在也有人把它用在其它需要一个模拟服务器的场景中。比如，在移动开发中，有人开发一个移动应用，需要有一个远端服务，但在开发时，这个服务还不存在，他就用Moco模拟了一个服务，保证移动应用可以顺利的开发。同样，也有人把它用在Web前端开发里，当我们的页面需要通过与服务器交互时，就可以用Moco模拟这样一个服务。这种做法在开发一个页面原型时，非常有用，因为那个时候，我们还来不及开发一个完整的服务。</p>
</blockquote>
<h3 id="Moco_用于接口测试">Moco 用于接口测试</h3><p>既然开发人员可以通过 Moco 模拟一个还不存在的服务来进行开发、调试，那对于接口测试来说，也可以模拟一个服务进行测试。<br>一般而言，在项目的接口文档输出后，开发人员会进行接口开发工作，测人员会进行接口用例的设计，但往往完成用例设计会先于接口开发工作，此时如果要进行接口用例的执行，则前提是开发人员完成接口开发工作。<br>而通过 Moco 框架，就可以在接口文档输出后，在接口开发、接口用例设计的同时，使用 Moco 搭建一个模拟服务器，这样在用例设计完成后，即使接口开发工作还未完成，也可以立即进行执行接口用例，在这个过程中可以修改、补充用例，如此的话，在接口开发完成以后，只需要简单的去执行所有的用例就 OK，省去了很大的工作量，并且这些完善的用例，用自动化去执行，效果更佳。</p>
<a id="more"></a>
<h3 id="开始使用_Moco">开始使用 Moco</h3><ul>
<li>github 地址：<a href="https://github.com/dreamhead/moco" target="_blank" rel="external">moco</a></li>
<li>在项目的 readme 中找到 Quick Start，Download Standalone Moco Runner</li>
<li><p>新建一个 test.json：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">        &#123;</span><br><span class="line">            "<span class="attribute">response</span>": <span class="value">&#123;</span><br><span class="line">                "<span class="attribute">text</span>": <span class="value"><span class="string">"Hello, Moco"</span></span><br><span class="line">            </span>&#125;</span><br><span class="line">        </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动服务，端口号可自己设置</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">java</span> <span class="tag">-jar</span> <span class="tag">moco-runner-0</span><span class="class">.10</span><span class="class">.2-standalone</span><span class="class">.jar</span> <span class="tag">http</span> <span class="tag">-p</span> 12306 <span class="tag">-c</span> <span class="tag">test</span><span class="class">.json</span></span><br><span class="line">29 一月 2016 14<span class="pseudo">:25</span><span class="pseudo">:20</span> <span class="attr_selector">[main]</span> <span class="tag">INFO</span>  <span class="tag">Server</span> <span class="tag">is</span> <span class="tag">started</span> <span class="tag">at</span> 12306</span><br><span class="line">29 一月 2016 14<span class="pseudo">:25</span><span class="pseudo">:20</span> <span class="attr_selector">[main]</span> <span class="tag">INFO</span>  <span class="tag">Shutdown</span> <span class="tag">port</span> <span class="tag">is</span> 63643</span><br></pre></td></tr></table></figure>
</li>
<li><p>在浏览器中访问 <a href="http://localhost:12306，" target="_blank" rel="external">http://localhost:12306，</a> 将会在页面上显示 Hello,Moco</p>
</li>
</ul>
<h3 id="配置_json_文件">配置 json 文件</h3><p>做了一个 demo，demo 的目录结构：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">│  global<span class="class">.json</span></span><br><span class="line">│  moco-runner-<span class="number">0.10</span>.<span class="number">2</span>-standalone<span class="class">.jar</span></span><br><span class="line">│  test<span class="class">.json</span></span><br><span class="line">│</span><br><span class="line">└─api</span><br><span class="line">    ├─book</span><br><span class="line">    │      book<span class="class">.json</span></span><br><span class="line">    │</span><br><span class="line">    └─person</span><br><span class="line">            person.json</span><br></pre></td></tr></table></figure>
<p>global.json 作为全局配置文件，里面定义了将会用到的 json 配置文件：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;	"<span class="attribute">file_root</span>":<span class="value"><span class="string">"api/book"</span></span>,</span><br><span class="line">        "<span class="attribute">include</span>": <span class="value"><span class="string">"book.json"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">file_root</span>":<span class="value"><span class="string">"api/person"</span></span>,</span><br><span class="line">        "<span class="attribute">include</span>":<span class="value"><span class="string">"person.json"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>book.json 中配置了书籍数据信息：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">request</span>": <span class="value">&#123;</span><br><span class="line">            "<span class="attribute">method</span>": <span class="value"><span class="string">"get"</span></span>,</span><br><span class="line">            "<span class="attribute">uri</span>": <span class="value"><span class="string">"/book_list"</span></span><br><span class="line">        </span>&#125;</span>,</span><br><span class="line">        "<span class="attribute">response</span>": <span class="value">&#123;</span><br><span class="line">            "<span class="attribute">json</span>": <span class="value">&#123;</span><br><span class="line">                "<span class="attribute">books</span>": <span class="value">[</span><br><span class="line">                    <span class="string">"Python基础编程"</span>,</span><br><span class="line">                    <span class="string">"wxPython实战"</span>,</span><br><span class="line">                    <span class="string">"Java核心编程"</span>,</span><br><span class="line">                    <span class="string">"Java编程思想"</span></span><br><span class="line">                ]</span><br><span class="line">            </span>&#125;</span><br><span class="line">        </span>&#125;</span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">request</span>": <span class="value">&#123;</span><br><span class="line">            "<span class="attribute">method</span>": <span class="value"><span class="string">"get"</span></span>,</span><br><span class="line">            "<span class="attribute">uri</span>": <span class="value"><span class="string">"/book"</span></span>,</span><br><span class="line">            "<span class="attribute">queries</span>": <span class="value">&#123;</span><br><span class="line">                "<span class="attribute">book_name</span>": <span class="value"><span class="string">"java_hxbc"</span></span><br><span class="line">            </span>&#125;</span><br><span class="line">        </span>&#125;</span>,</span><br><span class="line">        "<span class="attribute">response</span>": <span class="value">&#123;</span><br><span class="line">            "<span class="attribute">json</span>": <span class="value">&#123;</span><br><span class="line">                "<span class="attribute">name</span>": <span class="value"><span class="string">"Java核心编程"</span></span>,</span><br><span class="line">                "<span class="attribute">price</span>": <span class="value"><span class="number">50</span></span><br><span class="line">            </span>&#125;</span><br><span class="line">        </span>&#125;</span><br><span class="line">    </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>person.json 配置了人物信息：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">request</span>": <span class="value">&#123;</span><br><span class="line">            "<span class="attribute">method</span>": <span class="value"><span class="string">"get"</span></span>,</span><br><span class="line">            "<span class="attribute">uri</span>": <span class="value"><span class="string">"/person"</span></span>,</span><br><span class="line">            "<span class="attribute">queries</span>": <span class="value">&#123;</span><br><span class="line">                "<span class="attribute">name</span>": <span class="value"><span class="string">"Jack"</span></span><br><span class="line">            </span>&#125;</span><br><span class="line">        </span>&#125;</span>,</span><br><span class="line">        "<span class="attribute">response</span>": <span class="value">&#123;</span><br><span class="line">            "<span class="attribute">json</span>": <span class="value">&#123;</span><br><span class="line">                "<span class="attribute">country</span>": <span class="value"><span class="string">"USA"</span></span>,</span><br><span class="line">                "<span class="attribute">age</span>": <span class="value"><span class="number">18</span></span><br><span class="line">            </span>&#125;</span><br><span class="line">        </span>&#125;</span><br><span class="line">    </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="使用_Postman_测试接口">使用 Postman 测试接口</h3><ul>
<li><p>开启服务，当使用全局配置时，需要使用<code>-g</code>选项，而非之前的<code>-c</code></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar moco-runner-<span class="number">0.10</span>.<span class="number">2</span>-standalone<span class="class">.jar</span> http -<span class="tag">p</span> <span class="number">12306</span> -g global.json</span><br></pre></td></tr></table></figure>
</li>
<li><p>Chrome 安装 Postman 的话需要翻墙，可以通过离线安装的方式进行安装，具体自行百度。建议使用 VPN。</p>
</li>
<li><p>测试获取书籍列表：<br><img src="http://i13.tietuku.cn/31fadd4fdf665807.png" alt="book_list"></p>
</li>
<li><p>获取 Java 核心编程的信息：<br><img src="http://i13.tietuku.cn/043dd2e38a836c04.png" alt="java_hxbc"></p>
</li>
<li><p>获取 Jack 的信息：<br><img src="http://i13.tietuku.cn/48e12282efae7460.png" alt="jack"></p>
</li>
</ul>
<h3 id="其它配置方法">其它配置方法</h3><ul>
<li><p>通过配置不同的 json 文件，使得接口请求方式、返回的数据满足接口文档，这样就可以在完成接口用例的同时进行调试用例、用例完成后可以立即对接口进行测试。另外前端开发人员也可以使用这些模拟数据进行调试，这样就让测试人员、前端开发人员不用依赖于接口开发人员对接口的开发。</p>
</li>
<li><p>Moco 除了支持 get，还支持 post、put 、delete 等请求方式</p>
</li>
<li>前面 demo 中配置的返回数据类型都是 json，Moco 当然也支持 text、file 等类型</li>
<li>可以在 request 中设置 Headers , Cookies , StatusCode</li>
<li>Moco 的其它特性可参考 Moco 的 <a href="https://github.com/dreamhead/moco/blob/master/moco-doc/apis.md" target="_blank" rel="external">API 文档</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<h3 id="Moco_简介">Moco 简介</h3><p>Moco 的作者是郑晔，该框架还在 JavaOne 2013 大会上获过奖。<br>简单的说，Moco 是一个搭建模拟服务器的工具，其支持 API 和独立运行两种方式，前者通常是在 junit 等测试框架中使用，后者则是通过运行一个 jar 包开启服务。<br>Moco 能帮助解决开发中的哪些问题？作者的回答如下：</p>
<blockquote>
<p>   Moco是针对HTTP集成而生的，不过，现在也有人把它用在其它需要一个模拟服务器的场景中。比如，在移动开发中，有人开发一个移动应用，需要有一个远端服务，但在开发时，这个服务还不存在，他就用Moco模拟了一个服务，保证移动应用可以顺利的开发。同样，也有人把它用在Web前端开发里，当我们的页面需要通过与服务器交互时，就可以用Moco模拟这样一个服务。这种做法在开发一个页面原型时，非常有用，因为那个时候，我们还来不及开发一个完整的服务。</p>
</blockquote>
<h3 id="Moco_用于接口测试">Moco 用于接口测试</h3><p>既然开发人员可以通过 Moco 模拟一个还不存在的服务来进行开发、调试，那对于接口测试来说，也可以模拟一个服务进行测试。<br>一般而言，在项目的接口文档输出后，开发人员会进行接口开发工作，测人员会进行接口用例的设计，但往往完成用例设计会先于接口开发工作，此时如果要进行接口用例的执行，则前提是开发人员完成接口开发工作。<br>而通过 Moco 框架，就可以在接口文档输出后，在接口开发、接口用例设计的同时，使用 Moco 搭建一个模拟服务器，这样在用例设计完成后，即使接口开发工作还未完成，也可以立即进行执行接口用例，在这个过程中可以修改、补充用例，如此的话，在接口开发完成以后，只需要简单的去执行所有的用例就 OK，省去了很大的工作量，并且这些完善的用例，用自动化去执行，效果更佳。</p>]]>
    
    </summary>
    
      <category term="接口测试" scheme="http://www.xuxu1988.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[接口测试之基础篇]]></title>
    <link href="http://www.xuxu1988.com/2016/01/27/api-test-jichu/"/>
    <id>http://www.xuxu1988.com/2016/01/27/api-test-jichu/</id>
    <published>2016-01-27T15:00:19.000Z</published>
    <updated>2016-01-27T15:07:00.000Z</updated>
    <content type="html"><![CDATA[<h3 id="接口测试简介">接口测试简介</h3><ul>
<li>百度百科中为接口测试给出的定义：<br>接口测试是测试系统组件间接口的一种测试。<br>接口测试主要用于检测外部系统与系统之间以及内部各个子系统之间的交互点。<br>测试的重点是要检查数据的交换，传递和控制管理过程，以及系统间的相互逻辑依赖关系等。</li>
<li>接口测试通常包括两类，模块之间的接口测试和 Web 接口测试。<br>前者通常是由开发人员在单元测试中进行测试，后者则通常由测试人员进行测试。<br>后面的内容主要为 Web 接口测试。</li>
</ul>
<h3 id="接口测试的意义">接口测试的意义</h3><p>测试人员都知道，在整个软件生命周期中，测试介入的越早，成本越低，收益越好。<br>通常，前端的实现，依赖于后端的接口，测试人员需要在开发人员输出接口文档后，就立即开始设计接口测试用例，在开发人员将接口开发完成后，就可以进行接口测试了。<br>接口测试，可以提前暴露很多问题，此时开发解决问题，相对在前端的功能测试中发现的问题，其代价要小的多。接口的正确和稳定，会为后面前端的功能测试减少很大一部分工作量。另外接口的自动化、持续集成也相对的比较容易去实现。</p>
<a id="more"></a>
<h3 id="接口测试的内容">接口测试的内容</h3><ul>
<li>测试返回值是否正确</li>
<li>测试返回值类型是否符合设计文档</li>
<li>测试返回的 error 信息是否符合设计</li>
<li>对输入进行类型、边界测试，测试接口是否有对异常数据做处理</li>
</ul>
<h3 id="需要掌握或了解的知识">需要掌握或了解的知识</h3><ul>
<li>了解后端常用开发语言，java、php、python 等</li>
<li>了解各种开发语言的某些特性。比如在 php 中的 empty() 方法，有开发同学会用这个方法判断一个字符串是否为空，但这里如果传入的值为0，empty 方法也会判断为空，即 empty(0) 返回的值为 true！因此设计接口用例的时候，要增加此类含有特殊值的 case</li>
<li>了解 tcp/ip、http、https 协议</li>
<li>掌握常用的请求方式，get、post、put</li>
<li>掌握 json、xml、html 的语法</li>
<li>掌握常用的抓包方法</li>
<li>掌握基本的增删改查 sql 语句</li>
<li>掌握一种语言，python、java 或其他语言</li>
<li>掌握 jenkins 环境的搭建</li>
</ul>
<h3 id="接口测试工具">接口测试工具</h3><ul>
<li>Chrome 的插件，Postman</li>
<li>Jmeter</li>
<li>soapUI</li>
<li>Fitnesse</li>
</ul>
<h3 id="接口测试框架或测试库">接口测试框架或测试库</h3><ul>
<li><a href="https://github.com/robotframework/robotframework" target="_blank" rel="external">RobotFramework</a></li>
<li>python 的 <a href="https://github.com/kennethreitz/requests" target="_blank" rel="external">requests</a></li>
</ul>
<h3 id="其他开源库">其他开源库</h3><ul>
<li><a href="https://github.com/dreamhead/moco" target="_blank" rel="external">moco</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<h3 id="接口测试简介">接口测试简介</h3><ul>
<li>百度百科中为接口测试给出的定义：<br>接口测试是测试系统组件间接口的一种测试。<br>接口测试主要用于检测外部系统与系统之间以及内部各个子系统之间的交互点。<br>测试的重点是要检查数据的交换，传递和控制管理过程，以及系统间的相互逻辑依赖关系等。</li>
<li>接口测试通常包括两类，模块之间的接口测试和 Web 接口测试。<br>前者通常是由开发人员在单元测试中进行测试，后者则通常由测试人员进行测试。<br>后面的内容主要为 Web 接口测试。</li>
</ul>
<h3 id="接口测试的意义">接口测试的意义</h3><p>测试人员都知道，在整个软件生命周期中，测试介入的越早，成本越低，收益越好。<br>通常，前端的实现，依赖于后端的接口，测试人员需要在开发人员输出接口文档后，就立即开始设计接口测试用例，在开发人员将接口开发完成后，就可以进行接口测试了。<br>接口测试，可以提前暴露很多问题，此时开发解决问题，相对在前端的功能测试中发现的问题，其代价要小的多。接口的正确和稳定，会为后面前端的功能测试减少很大一部分工作量。另外接口的自动化、持续集成也相对的比较容易去实现。</p>]]>
    
    </summary>
    
      <category term="接口测试" scheme="http://www.xuxu1988.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android Monkey Script]]></title>
    <link href="http://www.xuxu1988.com/2016/01/14/Android-monkeyScript/"/>
    <id>http://www.xuxu1988.com/2016/01/14/Android-monkeyScript/</id>
    <published>2016-01-14T15:47:04.000Z</published>
    <updated>2016-04-29T12:43:33.000Z</updated>
    <content type="html"><![CDATA[<p>在 Monkey 命令选项中有一个这样的选项：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[--setup scriptfile] [-f scriptfile [-f scriptfile] ...]</span><br></pre></td></tr></table></figure>
<p>对于这个选项的说明，Google 在 Monkey 的官方文档里面并未进行说明。<br>通过阅读 <a href="https://github.com/gb112211/Android-Platform-Development/tree/master/cmds/monkey/src/com/android/commands/monkey" target="_blank" rel="external">Monkey 源码</a> ，在  MonkeySourceScript 这个类中，发现有给出一段注释：</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line"> <span class="keyword">*</span> monkey event queue. It takes a script to produce events sample script format:</span><br><span class="line"> <span class="keyword">*</span></span><br><span class="line"> <span class="keyword">*</span> <span class="variable">&lt;pre&gt;</span></span><br><span class="line"> <span class="keyword">*</span> type= raw events</span><br><span class="line"> <span class="keyword">*</span> count= 10</span><br><span class="line"> <span class="keyword">*</span> speed= 1.0</span><br><span class="line"> <span class="keyword">*</span> start data &amp;gt;&amp;gt;</span><br><span class="line"> <span class="keyword">*</span> captureDispatchPointer(5109520,5109520,0,230.75429,458.1814,0.20784314,0.06666667,0,0.0,0.0,65539,0)</span><br><span class="line"> <span class="keyword">*</span> captureDispatchKey(5113146,5113146,0,20,0,0,0,0)</span><br><span class="line"> <span class="keyword">*</span> captureDispatchFlip(true)</span><br><span class="line"> <span class="keyword">*</span> ...</span><br><span class="line"> <span class="keyword">*</span> <span class="variable">&lt;/pre&gt;</span></span><br><span class="line"> <span class="keyword">*</span>/</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>里面给出了 script 的格式。<br>这里先按照格式，编写一个 script，让其完成按下 Home 键的动作，之后再介绍这个类里面的一些方法。<br>新建一个 monkeyScript.txt 文件，在文件中输入下面的内容后保存：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">type= raw events</span><br><span class="line">count= <span class="number">10</span></span><br><span class="line">speed= <span class="number">1.0</span></span><br><span class="line">start data &gt;&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">DispatchKey</span><span class="params">(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">DispatchKey</span><span class="params">(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">UserWait</span><span class="params">(<span class="number">500</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>接着将该文件 push 至设备上，可以选择放在 sdcard，也可以选择其它目录，我选择将其放在 tmp 目录下：</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">push</span> monkeyScript.txt data<span class="regexp">/local/</span>tmp</span><br></pre></td></tr></table></figure>
<p>然后执行该脚本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey <span class="operator">-f</span> /data/<span class="built_in">local</span>/tmp/monkeyScript.txt <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>执行成功后会按下 Home 键 1 次.</p>
<p>脚本中的 count=、speed=、start data &gt;&gt;、DispatchKey、UserWait 都属于  MonkeySourceScript 定义的关键字<br>其中：</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> HEADER_COUNT = <span class="string">"count="</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> HEADER_SPEED = <span class="string">"speed="</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> STARTING_DATA_LINE = <span class="string">"start data &gt;&gt;"</span>;</span><br></pre></td></tr></table></figure>
<p>这几个关键字用于 monkey 识别脚本文件是否可以执行。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> EVENT_KEYWORD_KEY = <span class="string">"DispatchKey"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> EVENT_KEYWORD_WAIT = <span class="string">"UserWait"</span>;</span><br></pre></td></tr></table></figure>
<p>DispatchKey、UserWait 分别为分派一个按键事件、等待、休眠的意思。<br>脚本中 count= 10 意思是执行的次数，但在实际执行中并未起作用，实际执行次数受 monkey 命令控制，比如命令末尾的数字 1.<br>speed= 设置速率，start data &gt;&gt; 开始执行后面的内容。<br>DispatchKey，分派一个按键事件，接收的参数比较复杂，其中 3 表示的是 Home 键，3 前面的 0 表示按下，3 前面的 1 表示弹起。<br>UserWait(500)，休眠 500 毫秒。</p>
<p>接下来介绍该类中的其它一些方法：<br>LaunchActivity，启动一个应用，例如启动系统相机：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">LaunchActivity</span><span class="params">(com.android.camera,com.android.camera.Camera)</span></span></span><br></pre></td></tr></table></figure>
<p>DispatchPress，按下物理按键，例如按下菜单键：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">DispatchPress</span><span class="params">(KEYCODE_MENU)</span></span></span><br></pre></td></tr></table></figure>
<p>Tap，点按屏幕</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">Tap</span><span class="params">(<span class="number">500</span>,<span class="number">500</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>Drag，滑动屏幕</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">Drag</span><span class="params">(<span class="number">500</span>,<span class="number">1600</span>,<span class="number">500</span>,<span class="number">200</span>,<span class="number">500</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>DispatchString，输入字符串，不支持中文</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">DispatchString</span><span class="params">(test)</span></span></span><br></pre></td></tr></table></figure>
<p>PressAndHold，长按</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">PressAndHold</span><span class="params">(<span class="number">400</span>,<span class="number">1100</span>,<span class="number">3000</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>PinchZoom，缩放</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">PinchZoom</span><span class="params">(<span class="number">500</span>,<span class="number">700</span>,<span class="number">800</span>,<span class="number">400</span>,<span class="number">500</span>,<span class="number">1200</span>,<span class="number">200</span>,<span class="number">1600</span>,<span class="number">1000</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>RunCmd，执行 shell 命令，例如截屏</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">RunCmd</span><span class="params">(screencap -p /data/local/tmp/tmp.png)</span></span></span><br></pre></td></tr></table></figure>
<p>还有其它的一些方法，可以自行查看源码。</p>
<p>那这些有什么用？<br>我只能说很有用。。朋友们可以自己思考下会在什么地方用到！</p>
<p>附 <a href="http://www.android-doc.com/reference/android/view/KeyEvent.html" target="_blank" rel="external">KeyEvent</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>在 Monkey 命令选项中有一个这样的选项：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[--setup scriptfile] [-f scriptfile [-f scriptfile] ...]</span><br></pre></td></tr></table></figure>
<p>对于这个选项的说明，Google 在 Monkey 的官方文档里面并未进行说明。<br>通过阅读 <a href="https://github.com/gb112211/Android-Platform-Development/tree/master/cmds/monkey/src/com/android/commands/monkey">Monkey 源码</a> ，在  MonkeySourceScript 这个类中，发现有给出一段注释：</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line"> <span class="keyword">*</span> monkey event queue. It takes a script to produce events sample script format:</span><br><span class="line"> <span class="keyword">*</span></span><br><span class="line"> <span class="keyword">*</span> <span class="variable">&lt;pre&gt;</span></span><br><span class="line"> <span class="keyword">*</span> type= raw events</span><br><span class="line"> <span class="keyword">*</span> count= 10</span><br><span class="line"> <span class="keyword">*</span> speed= 1.0</span><br><span class="line"> <span class="keyword">*</span> start data &amp;gt;&amp;gt;</span><br><span class="line"> <span class="keyword">*</span> captureDispatchPointer(5109520,5109520,0,230.75429,458.1814,0.20784314,0.06666667,0,0.0,0.0,65539,0)</span><br><span class="line"> <span class="keyword">*</span> captureDispatchKey(5113146,5113146,0,20,0,0,0,0)</span><br><span class="line"> <span class="keyword">*</span> captureDispatchFlip(true)</span><br><span class="line"> <span class="keyword">*</span> ...</span><br><span class="line"> <span class="keyword">*</span> <span class="variable">&lt;/pre&gt;</span></span><br><span class="line"> <span class="keyword">*</span>/</span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="Monkey" scheme="http://www.xuxu1988.com/tags/Monkey/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android Studio中搭建Robotium环境]]></title>
    <link href="http://www.xuxu1988.com/2016/01/13/robotium-android-studio/"/>
    <id>http://www.xuxu1988.com/2016/01/13/robotium-android-studio/</id>
    <published>2016-01-13T14:33:21.000Z</published>
    <updated>2016-04-29T12:44:24.000Z</updated>
    <content type="html"><![CDATA[<p>现在大部分的 Android 项目都从之前的 Eclipse 转移到了 Android Studio，所以在使用 Robotium 做自动化测试时，最好是也跟着转移到 AS中。</p>
<p>在 AS 中搭建 Robotium 环境与 Eclipse 会有很大的区别，这里给出一个简单的例子供大家参考！</p>
<ul>
<li><p>新建一个简单的 Demo 应用，使用 AS 的默认创建的就好，默认应用的 MainActivity 界面上 TextView 的内容设置为<code>robotium test</code></p>
</li>
<li><p>在 <code>app/build.gradle</code>中添加测试依赖 </p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="keyword">compile</span> <span class="string">'com.android.support:appcompat-v7:23.1.1'</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="keyword">fileTree</span>(dir: <span class="string">'libs'</span>, <span class="keyword">include</span>: [<span class="string">'*.jar'</span>])</span><br><span class="line">    <span class="comment">//添加测试依赖</span></span><br><span class="line">    androidTestCompile <span class="string">'com.jayway.android.robotium:robotium-solo:5.4.0'</span></span><br><span class="line">    androidTestCompile <span class="string">'junit:junit:4.12'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<a id="more"></a>
<ul>
<li><p>在<code>src/androidTest</code>，与默认创建的<code>ApplicationTest</code>类同级的目录下创建一个<code>MainActivityTest</code></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MainActivityTest</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">ActivityInstrumentationTestCase2&lt;MainActivity&gt;</span>&#123;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Solo</span> solo;</span><br><span class="line"></span><br><span class="line">    	public <span class="type">MainActivityTest</span>() &#123;</span><br><span class="line">        	<span class="keyword">super</span>(<span class="type">MainActivity</span>.<span class="keyword">class</span>);</span><br><span class="line">    	&#125;</span><br><span class="line"></span><br><span class="line">    	<span class="annotation">@Before</span></span><br><span class="line">    	public void setUp() <span class="keyword">throws</span> <span class="type">Exception</span> &#123;</span><br><span class="line">        	<span class="keyword">super</span>.setUp();</span><br><span class="line">        	solo = <span class="keyword">new</span> <span class="type">Solo</span>(getInstrumentation(), getActivity());</span><br><span class="line">    	&#125;</span><br><span class="line"></span><br><span class="line">    	<span class="annotation">@Test</span></span><br><span class="line">    	public void testShowText() &#123;</span><br><span class="line">        	<span class="type">Assert</span>.assertTrue(solo.searchText(<span class="string">"robotium test"</span>));</span><br><span class="line">    	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>AS 左侧 Build Variants 中 Test Artifact 中选择<code>Android Instrumentation Tests</code><br><img src="http://i11.tietuku.cn/7fd87285cad13124.png" alt="variants image"></p>
</li>
<li><p>菜单栏 Run &gt; Edit Configurations… &gt; Default &gt; Android Tests 指定 instrumentation runner 为<code>android.test.InstrumentationTestRunner</code><br><img src="http://i11.tietuku.cn/8473645285400ba9.png" alt="runner image"></p>
</li>
<li><p>运行测试，使用命令<code>gradlew cAT</code> 或者使用 Gradle界面工具运行测试<br><img src="http://i11.tietuku.cn/8a6fcd5164a85dcb.png" alt="runtest image"></p>
</li>
<li><p>运行成功后在 app/build/reports/androidTests/connected 目录下用浏览器打开报告<br><img src="http://i11.tietuku.cn/58dee0ec1752759b.png" alt="result image"></p>
</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>现在大部分的 Android 项目都从之前的 Eclipse 转移到了 Android Studio，所以在使用 Robotium 做自动化测试时，最好是也跟着转移到 AS中。</p>
<p>在 AS 中搭建 Robotium 环境与 Eclipse 会有很大的区别，这里给出一个简单的例子供大家参考！</p>
<ul>
<li><p>新建一个简单的 Demo 应用，使用 AS 的默认创建的就好，默认应用的 MainActivity 界面上 TextView 的内容设置为<code>robotium test</code></p>
</li>
<li><p>在 <code>app/build.gradle</code>中添加测试依赖 </p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="keyword">compile</span> <span class="string">'com.android.support:appcompat-v7:23.1.1'</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="keyword">fileTree</span>(dir: <span class="string">'libs'</span>, <span class="keyword">include</span>: [<span class="string">'*.jar'</span>])</span><br><span class="line">    <span class="comment">//添加测试依赖</span></span><br><span class="line">    androidTestCompile <span class="string">'com.jayway.android.robotium:robotium-solo:5.4.0'</span></span><br><span class="line">    androidTestCompile <span class="string">'junit:junit:4.12'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="Robotium" scheme="http://www.xuxu1988.com/tags/Robotium/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="自动化" scheme="http://www.xuxu1988.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[深圳查询APP]]></title>
    <link href="http://www.xuxu1988.com/2016/01/03/query-for-shenzhen/"/>
    <id>http://www.xuxu1988.com/2016/01/03/query-for-shenzhen/</id>
    <published>2016-01-03T13:43:07.000Z</published>
    <updated>2016-04-04T13:45:58.000Z</updated>
    <content type="html"><![CDATA[<h3 id="深圳查询App留言">深圳查询App留言</h3>]]></content>
    <summary type="html">
    <![CDATA[<h3 id="深圳查询App留言">深圳查询App留言</h3>]]>
    </summary>
    
      <category term="其他" scheme="http://www.xuxu1988.com/categories/%E5%85%B6%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[同步GitHub上已Fork的项目]]></title>
    <link href="http://www.xuxu1988.com/2015/12/23/2015-12-07-syn-git-project/"/>
    <id>http://www.xuxu1988.com/2015/12/23/2015-12-07-syn-git-project/</id>
    <published>2015-12-22T16:47:59.000Z</published>
    <updated>2016-04-29T12:43:00.000Z</updated>
    <content type="html"><![CDATA[<p> 以本人在 GitHub 上 Fork 的项目（<a href="https://github.com/gb112211/A-Native-TesterHome" target="_blank" rel="external">A-Native-TesterHome</a>）为例：</p>
<ul>
<li><p>将 fork 的项目 clone 至本地</p>
<p><code>git clone https://github.com/gb112211/A-Native-TesterHome.git</code></p>
</li>
<li><p>进入项目目录，添加源项目的地址，即 fork 的项目的地址</p>
<p><code>cd A-Native-TesterHome</code><br><code>git remote add testerhome https://github.com/testerhome/A-Native-TesterHome</code></p>
</li>
<li><p>将代码 fetch 过来并 merge</p>
<p><code>git fetch testerhome</code><br><code>git merge testerhome/master</code></p>
</li>
<li><p>将合并的代码提交</p>
<p><code>git push</code></p>
</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p> 以本人在 GitHub 上 Fork 的项目（<a href="https://github.com/gb112211/A-Native-TesterHome" target="_blank" rel="external">A-Native-TesterHome</a>）]]>
    </summary>
    
      <category term="git" scheme="http://www.xuxu1988.com/tags/git/"/>
    
      <category term="其他" scheme="http://www.xuxu1988.com/tags/%E5%85%B6%E4%BB%96/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Robolectric环境搭建(Android Studio + Gradle)]]></title>
    <link href="http://www.xuxu1988.com/2015/05/23/robolectric-01/"/>
    <id>http://www.xuxu1988.com/2015/05/23/robolectric-01/</id>
    <published>2015-05-22T16:47:59.000Z</published>
    <updated>2016-03-24T12:25:13.000Z</updated>
    <content type="html"><![CDATA[<!-- create time: 2015-05-21 10:15:20  -->
<p><a href="http://robolectric.org" target="_blank" rel="external"><code>Robolectric-官网</code></a></p>
<p>Robolectric 官网文档少得可怜，可以选择 Eclipse + Maven , 也可以选择 Android Studio + Gradle<br>参考了 <a href="https://github.com/robolectric/robolectric-samples" target="_blank" rel="external">roboletric-samples</a> ，踩了很多的坑。。<br>OK，接下来记录下我在 Mac 上的搭建步骤。其他系统可以参考。<br>各种软件版本：<br>JDK：1.8<br>Android Studio：1.2<br>Roboletric：3.0-SNAPSHOT</p>
<a id="more"></a>
<h2 id="Robolectric_简介">Robolectric 简介</h2><p>其实很早就知道这个框架，但一直忍着没去碰它，而是选择先去熟悉了下 Instrumentation，这两天才忍不住……</p>
<p><code>Instrumentation</code> 与 <code>Roboletric</code> 都是针对 Android 进行单元测试的框架，前者在执行 case 时候是以 Android JUnit 的方式运行，因此必须在真实的 Android 环境中运行（模拟器或者真机），而后者则是以 Java Junit 的方式运行，这里就脱离了对 Android 环境的依赖，而可以直接将 case 在 JVM 中运行，大赞~，因此很适合将 Roboletric 用于 Android 的测试驱动开发。</p>
<p>网上其实还是比较多关于 Roboletric 的文章的，但是。。尼玛，里面都是贴点官网的示例代码，对于整个环境的搭建，却没多少提及的。。环境是最主要的，环境 OK 了，示例代码我到官网复制就OK。。</p>
<h2 id="新建_Android_Project">新建 Android Project</h2><p>新建 一个Android 项目( RoboletricDemo )，一路默认，这里就不帖 MainActivity 的代码，代码很简单，该示例的主界面是一个 TextView，显示的内容为 <code>Hello world!</code>，界面中还有一个 Button，点击 Button，TextView 的内容会变为<code>Hello xuxu!</code>，呵呵。。<br>具体也可以参考这篇文章的内容：<a href="http://xuxu1988.com/2015/05/14/2015-05-02-Instrumentation01" target="_blank" rel="external">Android Instrumentation 简介</a><br>其中我对 sdk 的配置了 min sdk 为 16</p>
<h2 id="配置_Gradle">配置 Gradle</h2><ul>
<li><p>配置 RoboletricDemo/build.gradle</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ext &#123;</span><br><span class="line">    robolectricVersion = <span class="string">"3.0-SNAPSHOT"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">subprojects</span> &#123;</span><br><span class="line">    <span class="keyword">buildscript</span> &#123;</span><br><span class="line">        <span class="keyword">repositories</span> &#123;</span><br><span class="line">            jcenter()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">dependencies</span> &#123;</span><br><span class="line">            <span class="keyword">classpath</span> <span class="string">"com.android.tools.build:gradle:1.2.2"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        maven &#123; url <span class="string">"https://oss.sonatype.org/content/repositories/snapshots"</span> &#125;</span><br><span class="line">        mavenLocal()</span><br><span class="line">        mavenCentral()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 app/build.gradle</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">apply</span> plugin: <span class="string">'com.android.application'</span></span><br><span class="line"></span><br><span class="line">android &#123;</span><br><span class="line">    <span class="title">compileSdkVersion</span> <span class="number">22</span></span><br><span class="line">    buildToolsVersion <span class="string">"22.0.1"</span></span><br><span class="line"></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        <span class="title">applicationId</span> <span class="string">"com.xuxu.roboletricdemo"</span></span><br><span class="line">        minSdkVersion <span class="number">16</span></span><br><span class="line">        targetSdkVersion <span class="number">19</span></span><br><span class="line">        versionCode <span class="number">1</span></span><br><span class="line">        versionName <span class="string">"1.0"</span></span><br><span class="line">    &#125;</span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        <span class="title">release</span> &#123;</span><br><span class="line">            <span class="title">minifyEnabled</span> <span class="built_in">false</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    <span class="title">compile</span> fileTree(dir: <span class="string">'libs'</span>, include: [<span class="string">'*.jar'</span>])</span><br><span class="line">    compile <span class="string">'com.android.support:appcompat-v7:22.0.0'</span></span><br><span class="line">    testCompile <span class="string">"junit:junit:4.10"</span></span><br><span class="line">    testCompile <span class="string">"org.assertj:assertj-core:1.7.0"</span></span><br><span class="line">    testCompile <span class="string">"org.robolectric:robolectric:<span class="variable">$&#123;robolectricVersion&#125;</span>"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 Build Variants</p>
<p>在 Build Variants 面板中选择 Unit Tests  </p>
<p><img src="http://i5.tietuku.cn/c1d3995e4239f2cas.jpg" alt="image"></p>
</li>
<li><p>完成添加依赖</p>
<p>打开 Gradle 面板，点击刷新按钮  </p>
<p><img src="http://i5.tietuku.cn/abb5987efa035e7cs.jpg" alt="image"></p>
<p>完成之后可以在看到成功添加的所有依赖</p>
<p><img src="http://i5.tietuku.cn/d8ebc209eda36666s.jpg" alt="image"></p>
</li>
</ul>
<h2 id="完成_Test_Case">完成 Test Case</h2><ol>
<li>重命名 app/src/androidTest 为 test，并且删除创建项目时自动生成的 ApplicationTest</li>
<li>在 MainActivity 中快速创建测试类，选择 JUnit 4，会自动创建 MainActivityTest 至之前修改的 test 目录下<br><img src="http://i5.tietuku.cn/ced2617d951f3620s.jpg" alt="image"></li>
<li><p>编写 Test Case，这里直接贴上测试代码，代码都相当简单</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xuxu.roboletricdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.robolectric.Robolectric;</span><br><span class="line"><span class="keyword">import</span> org.robolectric.RobolectricGradleTestRunner;</span><br><span class="line"><span class="keyword">import</span> org.robolectric.annotation.Config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertNotNull;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.fail;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * Created by xuxu on 15/5/23.</span><br><span class="line"> */</span></span><br><span class="line"><span class="annotation">@RunWith</span>(RobolectricGradleTestRunner.class)</span><br><span class="line"><span class="annotation">@Config</span>(constants = BuildConfig.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivityTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 引用待测Activity</span></span><br><span class="line">    <span class="keyword">private</span> MainActivity mActivity;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 引用待测Activity中的TextView和Button</span></span><br><span class="line">    <span class="keyword">private</span> TextView textView;</span><br><span class="line">    <span class="keyword">private</span> Button button;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Before</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获取待测Activity</span></span><br><span class="line">        mActivity = Robolectric.setupActivity(MainActivity.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化textView和button</span></span><br><span class="line">        textView = (TextView) mActivity.findViewById(R.id.textView);</span><br><span class="line">        button = (Button) mActivity.findViewById(R.id.button);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试界面初始化结果</span></span><br><span class="line">    <span class="annotation">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInit</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        assertNotNull(mActivity);</span><br><span class="line">        assertNotNull(textView);</span><br><span class="line">        assertNotNull(button);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断包名</span></span><br><span class="line">        assertEquals(<span class="string">"com.xuxu.roboletricdemo"</span>, mActivity.getPackageName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断textView默认显示的内容</span></span><br><span class="line">        assertEquals(<span class="string">"Hello world!"</span>, textView.getText().toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试点击button，textView显示的内容</span></span><br><span class="line">    <span class="annotation">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testButton</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 点击button</span></span><br><span class="line">        button.performClick();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断点击后textView的内容</span></span><br><span class="line">        assertEquals(<span class="string">"Hello xuxu!"</span>, textView.getText().toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 一个失败的用例</span></span><br><span class="line">    <span class="annotation">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFail</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        fail(<span class="string">"This case failed!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Run_Test_Case">Run Test Case</h2><ul>
<li><p>运行方式</p>
<ol>
<li><p>打开 Gradle 面板，在面板中执行测试</p>
<p><img src="http://i5.tietuku.cn/0a1273dfa1ffd79as.jpg" alt="image"></p>
</li>
<li><p>右键 <strong>MainActivityTest</strong> &gt; <strong>Run ‘MainActivityTest’</strong></p>
</li>
<li>在终端中运行 <code>./gradlew test</code></li>
</ol>
</li>
<li><p>查看报告</p>
<p>执行完测试之后，会在 <code>app/build/reports/tests/</code>目录下生成相应地测试报告，使用浏览器打开</p>
<p><img src="http://i5.tietuku.cn/8cdc5131164da46bs.jpg" alt="image">    </p>
</li>
</ul>
<!-- link -->
]]></content>
    <summary type="html">
    <![CDATA[<!-- create time: 2015-05-21 10:15:20  -->
<p><a href="http://robolectric.org"><code>Robolectric-官网</code></a></p>
<p>Robolectric 官网文档少得可怜，可以选择 Eclipse + Maven , 也可以选择 Android Studio + Gradle<br>参考了 <a href="https://github.com/robolectric/robolectric-samples">roboletric-samples</a> ，踩了很多的坑。。<br>OK，接下来记录下我在 Mac 上的搭建步骤。其他系统可以参考。<br>各种软件版本：<br>JDK：1.8<br>Android Studio：1.2<br>Roboletric：3.0-SNAPSHOT</p>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="Roboletric" scheme="http://www.xuxu1988.com/tags/Roboletric/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android测试中获取包名、Activity的方法总结]]></title>
    <link href="http://www.xuxu1988.com/2015/05/20/android-get-activity/"/>
    <id>http://www.xuxu1988.com/2015/05/20/android-get-activity/</id>
    <published>2015-05-20T14:34:10.000Z</published>
    <updated>2016-01-29T15:14:14.000Z</updated>
    <content type="html"><![CDATA[<p>相信接触过 Android 自动化测试的同学都知道，很多场景下我们需要获取一个应用的 <strong>包名和 Activity</strong>，例如 MonkeyRunner 的 startActivity 方法，需要一个传入一个 <code>component</code>，加入是需要启动系统相机，我们传的就是 <code>com.android.camera/com.android.camera.Camera</code>，这里可将 <code>Camera</code> 前面的包名省略掉，即写成：<code>com.android.camera/.Camera</code>。<br><a id="more"></a></p>
<h2 id="用在什么地方">用在什么地方</h2><h3 id="Monkey_命令">Monkey 命令</h3><p>monkey 命令的格式如下：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> monkey -p packageName &lt;event-<span class="keyword">count</span>&gt;</span><br></pre></td></tr></table></figure>
<p>这里 <strong>-p</strong> 后面跟的参数就是应用的包名</p>
<h3 id="am_命令">am 命令</h3><p>am命令可以启动一个应用（<strong> -n </strong>），使用 <strong>-W</strong> 选项可以获取到启动应用所消耗的时间，其命令格式为：</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">am <span class="built_in">start</span> -n packageName/Activity</span><br></pre></td></tr></table></figure>
<p><code>packageName/Activity</code> 应用的包名，Activity，这里的 Activity 是指可以作为 task 栈中的初始 activity，其实就是你进入应用后的第一个显示的主界面，am 命令并不能启动任意的 activity</p>
<h3 id="adb_uninstall">adb uninstall</h3><p>使用 uninstall 可以卸载 Android 用，但其后面跟的参数为应用的包名，非 apk 名</p>
<h3 id="自动化测试框架">自动化测试框架</h3><ol>
<li><p>Monkeyrunner<br>startActivity()，使用这个方法启动应用时需要 <code>packageName/Activity</code>，实质同 am 命令</p>
</li>
<li><p>Appium<br>初始化配置的时候需要设置 <code>appPackage</code>、<code>appActivity</code> ，其实也是包名、Activity</p>
</li>
</ol>
<h2 id="如何获取">如何获取</h2><h3 id="hierarchyviewer">hierarchyviewer</h3><p>在 Android SDK 下面的 tools 目录，有一个叫 <code>hierarchyviewer</code> 的工具，使用这个工具可以查看设备上当前打开的应用的包名与 Activity  </p>
<blockquote>
<p>   缺点是只有在你的设备是开发机，view server开启的的情况下才能使用，比如小米手机的开发版本，模拟器</p>
</blockquote>
<h3 id="aapt">aapt</h3><p><code>aapt</code> 这个工具在 SDK 的 build-tools 目录下面（如果没有，则是因为没有下载），使用下面的命令，可以从中获取到应用的包名与 Actiity</p>
<pre><code>aapt <span class="keyword">dump</span> badging apk文件
</code></pre><p>在显示出来的信息中，可以找到 <code>package: name</code> 和 <code>launchable-activity: name</code></p>
<h3 id="开发、反编译">开发、反编译</h3><p>反编译 apk，从 <code>AndroidManifest.xml</code> 文件中查找，或者直接向开发获取该清单文件</p>
<h3 id="dumpsys_命令">dumpsys 命令</h3><p>这是个人最推荐的方法，请先打开你要获取包名及 Activity 的应用</p>
<ol>
<li><p>dumpsys window</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell dumpsys <span class="keyword">window</span> w | grep \/ | grep name=</span><br><span class="line">mSurface=Surface(name=com.android.<span class="keyword">camera</span>/com.android.<span class="keyword">camera</span>.Camera)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   注意：windows 下请使将 <code>grep</code> 替换成 <code>findstr</code> </p>
</blockquote>
</li>
<li><p>dumpsys activity</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell dumpsys activity | grep mFocusedActivity</span><br><span class="line"><span class="label">mFocusedActivity:</span> ActivityRecord&#123;<span class="number">430</span>fe770 u0 <span class="keyword">com</span>.android.camera/.Camera t50&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   同样地注意不同系统替换 grep 和 findstr</p>
</blockquote>
</li>
</ol>
<h3 id="脚本获取">脚本获取</h3><p>最方便的方法</p>
<p><code>git clone https://github.com/gb112211/AndroidTestScripts.git</code> 或者下载 <a href="https://github.com/gb112211/AndroidTestScripts/archive/master.zip" target="_blank" rel="external"><code>zip包</code></a> 解压（需要 <code>Python</code> 环境及配置 <code>ANDROID_HOME</code>）</p>
<p>在 python 目录下直接双击运行 <code>get_current_activity.py</code> ，会在当前目录下生产一个 <code>CurrentActivity.txt</code> 的文本文件，里面会保存设备当前界面的包名及 Activity 名。</p>
<p>end…</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>相信接触过 Android 自动化测试的同学都知道，很多场景下我们需要获取一个应用的 <strong>包名和 Activity</strong>，例如 MonkeyRunner 的 startActivity 方法，需要一个传入一个 <code>component</code>，加入是需要启动系统相机，我们传的就是 <code>com.android.camera/com.android.camera.Camera</code>，这里可将 <code>Camera</code> 前面的包名省略掉，即写成：<code>com.android.camera/.Camera</code>。<br>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="自动化" scheme="http://www.xuxu1988.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用shell脚本将博客同时提交至github和gitcafe]]></title>
    <link href="http://www.xuxu1988.com/2015/05/16/config-my-hexo/"/>
    <id>http://www.xuxu1988.com/2015/05/16/config-my-hexo/</id>
    <published>2015-05-15T19:06:04.000Z</published>
    <updated>2016-01-29T15:13:54.000Z</updated>
    <content type="html"><![CDATA[<p>由于 github 的访问速度比较慢，所以也选择了跟很多同学一样，选择了同时将 blog 部署至 github 和 gitcafe。<br>因此在写完博客之后需要执行 <code>hexo d</code> 命令，将博客分别提交至 github 和 gitcafe，怎么去方便快速的提交？后面给出一个解决方法，另外也会给出一个快速创建 blog 并打开该 md 文件的方法！<br>这里的前提是已经搭建好自己的博客，并会使用命令进行博客的创建、提交等等。。<br>下面进入正题<br><a id="more"></a></p>
<h3 id="同时提交至_github_与_gitcafe">同时提交至 github 与 gitcafe</h3><ul>
<li><p>这里假设你的博客根目录为 hexo，先确保该目录下的 <code>_config.yml</code> 文件的最后一行的内容为 <code>type: git</code><br>这里贴出最后几行的内容：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#  <span class="string">Docs:</span> <span class="string">http:</span><span class="comment">//hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="string">deploy:</span></span><br><span class="line"><span class="label">  type:</span> git</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   这里我没将 github 或者 gitcafe 的地址配进去，而是放在了后面的 shell 脚本当中</p>
</blockquote>
</li>
<li><p>我的 gitcafe 仓库：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">repo:</span> <span class="string">https:</span><span class="comment">//gitcafe.com/xuxu1988/xuxu1988.git</span></span><br><span class="line"><span class="string">branch:</span> gitcafe-pages</span><br></pre></td></tr></table></figure>
<p>github 仓库：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">repo:</span> <span class="string">https:</span><span class="comment">//github.com/gb112211/gb112211.github.io.git</span></span><br><span class="line"><span class="string">branch:</span> master</span><br></pre></td></tr></table></figure>
</li>
<li><p>正常配置是将上面的仓库地址配在 <code>type: git</code> 的后面，这样才能提交，很笨的方法是先配置 github 的地址，提交后再将地址替换为 gitcafe的，接在再提交，相当于提交 2 次，可以想象，相当的累人</p>
</li>
<li><p>笨方法虽然手工的去执行，会很麻烦，但业务逻辑确实是如此，接下来通过 shell 脚本完成该功能，那么提交起来就相当的方便而且快速，这里直接将脚本 commit.sh 贴出（用的 Mac 环境）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line"><span class="comment">#提交至 gitcafe</span></span><br><span class="line"><span class="comment">#先将gitcafe 的地址追加到 _config.yml 的末尾，注意空格</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  repo: https://gitcafe.com/xuxu1988/xuxu1988.git"</span> &gt;&gt; _config.yml</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  branch: gitcafe-pages"</span> &gt;&gt; _config.yml</span><br><span class="line"></span><br><span class="line"><span class="comment">#提交</span></span><br><span class="line">hexo d</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除gitcafe配置</span></span><br><span class="line">sed -i <span class="string">''</span> <span class="string">'$d'</span> _config.yml</span><br><span class="line">sed -i <span class="string">''</span> <span class="string">'$d'</span> _config.yml</span><br><span class="line"></span><br><span class="line"><span class="comment">#提交至github</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  repo: https://github.com/gb112211/gb112211.github.io.git"</span> &gt;&gt; _config.yml</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  branch: master"</span> &gt;&gt; _config.yml</span><br><span class="line">hexo d</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除github配置</span></span><br><span class="line">sed -i <span class="string">''</span> <span class="string">'$d'</span> _config.yml</span><br><span class="line">sed -i <span class="string">''</span> <span class="string">'$d'</span> _config.yml</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   流程相当的简单，linux 下的话，sed 命令的 -i 选项后面应该不需要 <code>&#39;&#39;</code>，两个单引号，Mac 环境的按脚本中的格式写</p>
</blockquote>
</li>
<li><p>脚本写好之后，执行 <code>chmod +x commit.sh</code>，赋予可执行的权限后就可以以 <code>./commit.sh</code> 的方式提交博客了</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">xuxu:</span><span class="regexp">~/blog/</span>hexo]$ ./commit.sh</span><br><span class="line">INFO  Files loaded <span class="keyword">in</span> <span class="number">1.6</span> s</span><br><span class="line">INFO  <span class="string">Generated:</span> baidu_verify_0ZcfvtBusx.html</span><br><span class="line">INFO  <span class="string">Generated:</span> <span class="number">2015</span><span class="regexp">/05/</span><span class="number">16</span><span class="regexp">/config-my-hexo/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> <span class="number">2015</span><span class="regexp">/05/</span><span class="number">15</span><span class="regexp">/android-adb-commands/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> <span class="number">2015</span><span class="regexp">/05/</span><span class="number">14</span><span class="regexp">/2015-05-02-Instrumentation01/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> <span class="number">2015</span><span class="regexp">/05/</span><span class="number">14</span><span class="regexp">/2015-05-02-Monkey/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> <span class="number">2015</span><span class="regexp">/05/</span><span class="number">13</span><span class="regexp">/2015-05-02-Android-Tree/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> <span class="number">2015</span><span class="regexp">/05/</span><span class="number">12</span><span class="regexp">/2015-05-02-MeiYiBu-XuXiaofeng/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> archives/index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> archives<span class="regexp">/2015/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> archives<span class="regexp">/2015/</span><span class="number">05</span>/index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> tags<span class="regexp">/其他/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> tags<span class="regexp">/Android/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> tags<span class="regexp">/测试基础/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> tags<span class="regexp">/Monkey/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> tags<span class="regexp">/粤语歌曲/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> tags<span class="regexp">/Instrumentation/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> tags<span class="regexp">/自动化/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> categories<span class="regexp">/技术/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> categories<span class="regexp">/音乐/</span>index.html</span><br><span class="line">INFO  <span class="string">Generated:</span> sitemap.xml</span><br><span class="line">INFO  <span class="string">Generated:</span> atom.xml</span><br><span class="line">INFO  <span class="number">22</span> files generated <span class="keyword">in</span> <span class="number">333</span> ms</span><br><span class="line">INFO  <span class="string">Deploying:</span> git</span><br><span class="line">INFO  Clearing .deploy folder...</span><br><span class="line">INFO  Copying files from <span class="keyword">public</span> folder...</span><br><span class="line">[master <span class="number">1</span>f2fbc6] Site <span class="string">updated:</span> <span class="number">2015</span>-<span class="number">05</span>-<span class="number">16</span> <span class="number">13</span>:<span class="number">53</span>:<span class="number">58</span></span><br><span class="line"> <span class="number">9</span> files changed, <span class="number">16</span> insertions(+), <span class="number">16</span> deletions(-)</span><br><span class="line">To <span class="string">https:</span><span class="comment">//gitcafe.com/xuxu1988/xuxu1988.git</span></span><br><span class="line">   <span class="number">283</span>f9fd..<span class="number">1</span>f2fbc6  master -&gt; gitcafe-pages</span><br><span class="line">Branch master set up to track remote branch gitcafe-pages from <span class="string">https:</span><span class="comment">//gitcafe.com/xuxu1988/xuxu1988.git.</span></span><br><span class="line">INFO  Deploy <span class="string">done:</span> git</span><br><span class="line">INFO  <span class="string">Deploying:</span> git</span><br><span class="line">INFO  Clearing .deploy folder...</span><br><span class="line">INFO  Copying files from <span class="keyword">public</span> folder...</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working directory clean</span><br><span class="line">To <span class="string">https:</span><span class="comment">//github.com/gb112211/gb112211.github.io.git</span></span><br><span class="line">   <span class="number">283</span>f9fd..<span class="number">1</span>f2fbc6  master -&gt; master</span><br><span class="line">Branch master set up to track remote branch master from <span class="string">https:</span><span class="comment">//github.com/gb112211/gb112211.github.io.git.</span></span><br><span class="line">INFO  Deploy <span class="string">done:</span> git</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="快速创建并打开_md_文档">快速创建并打开 md 文档</h3><p>通常我们用 <code>hexo new my-blog</code> 这条命令去创建 md 文档，然后再进到 <code>source/_posts</code> 目录下去打开刚创建的 md 文档进行编辑，也是有点麻烦，这里同样运用 shell 脚本处理，在创建的好 md 文档之后就使用指定的应用程序打开该文档</p>
<ul>
<li><p>使用 hexo new 命令创建博客后，使用 Mou.app 打开创建好的 md 文档，脚本 <code>new.she</code> 的内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="comment">#文件名</span></span><br><span class="line">filename=<span class="variable">$@</span></span><br><span class="line">file=./<span class="built_in">source</span>/_posts/<span class="variable">$filename</span>.md</span><br><span class="line"></span><br><span class="line"><span class="comment">#判断是否已经存在</span></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="operator">-e</span> <span class="string">"<span class="variable">$file</span>"</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="comment">#不存在则新建博客并用Mou打开</span></span><br><span class="line">    hexo new <span class="variable">$filename</span></span><br><span class="line">    open <span class="operator">-a</span> /Applications/Mou.app <span class="variable">$file</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment">#存在则提示博客名已经存在</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"This blog already exists!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   new.sh 接收一个参数作为博客名</p>
</blockquote>
</li>
<li>脚本完成之后，同样地执行 <code>chmod +x new.sh</code>， 然后执行脚本 <code>./new.sh  my-blog</code>，如果不存在，就会创建博客，并使用 Mou.app 这个应用程序打开 my-blog.md 这个文档</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>由于 github 的访问速度比较慢，所以也选择了跟很多同学一样，选择了同时将 blog 部署至 github 和 gitcafe。<br>因此在写完博客之后需要执行 <code>hexo d</code> 命令，将博客分别提交至 github 和 gitcafe，怎么去方便快速的提交？后面给出一个解决方法，另外也会给出一个快速创建 blog 并打开该 md 文件的方法！<br>这里的前提是已经搭建好自己的博客，并会使用命令进行博客的创建、提交等等。。<br>下面进入正题<br>]]>
    
    </summary>
    
      <category term="其他" scheme="http://www.xuxu1988.com/tags/%E5%85%B6%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android常用adb命令总结]]></title>
    <link href="http://www.xuxu1988.com/2015/05/15/android-adb-commands/"/>
    <id>http://www.xuxu1988.com/2015/05/15/android-adb-commands/</id>
    <published>2015-05-15T11:27:13.000Z</published>
    <updated>2016-01-29T15:13:34.000Z</updated>
    <content type="html"><![CDATA[<p>针对移动端 Android 的测试， adb 命令是很重要的一个点，必须将常用的 adb 命令熟记于心， 将会为 Android 测试带来很大的方便，其中很多命令将会用于自动化测试的脚本当中。 </p>
<h3 id="Android_Debug_Bridge">Android Debug Bridge</h3><p><code>adb</code> 其实就是 <code>Android Debug Bridge</code>, Android 调试桥的缩写，adb 是一个 <em>C/S</em> 架构的命令行工具，主要由 3 部分组成：</p>
<ul>
<li>运行在 PC 端的 Client : 可以通过它对 Android 应用进行安装、卸载及调试 <blockquote>
<p>   Eclipse 中的 ADT、SDK Tools 目录下的 DDMS、Monitor 等工具，都是同样地用到了 adb 的功能来与 Android 设备进行交互。<br>PC 端的手机助手，诸如 360 手机助手、豌豆荚、应用宝等，其除了安装第三方应用方便，其他的功能，基本上都可以通过 adb 命令去完成，这里建议<code>测试人员</code>尽量不要在电脑上安装这类手机助手，因为其自带的 adb 程序可能会与 Android SDK 下的 adb 程序产生冲突，<code>5037</code> 端口被占用，导致使用 adb 命令时无法连接到设备</p>
</blockquote>
</li>
</ul>
<a id="more"></a>
<ul>
<li><p>运行在 PC 端的 Service : 其管理客户端到 Android 设备上 adb 后台进程的连接</p>
<blockquote>
<p>adb 服务启动后，Windows 可以在任务管理器中找到 adb.exe 这个进程</p>
</blockquote>
</li>
<li><p>运行在 Android 设备上的 adb 后台进程</p>
<blockquote>
<p>执行 <code>adb shell ps | grep adbd</code> ，可以找到该后台进程，windows 请使用 <code>findstr</code> 替代 grep</p>
</blockquote>
<figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb <span class="literal">shell</span> <span class="built_in">ps</span> | grep adbd</span><br><span class="line"><span class="literal">root</span>      <span class="number">23227</span> <span class="number">1</span>     <span class="number">6672</span>   <span class="number">832</span>   ffffffff <span class="number">0001</span>9bb4 <span class="constant">S</span> /sbin/adbd</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>这里注意一个地方，就是 adb 使用的端口号，<code>5037</code>，有必要记一下<br>接下来我将 adb 命令分为三部分进行介绍，<code>adb 命令</code>、<code>adb shell 命令</code>、<code>linux 命令</code></p>
<h3 id="adb_命令">adb 命令</h3><p>在开发或者测试的过程中，我们可以通过 adb 来管理多台设备，其一般的格式为：  </p>
<pre><code>adb  [<span class="operator">-e</span> | <span class="operator">-d</span> | <span class="operator">-s</span> &lt;设备序列号&gt;] &lt;子命令&gt;
</code></pre><p>在配好环境变量的前提下，在命令窗口当中输入 adb help 或者直接输入 adb ，将会列出所有的选项说明及子命令。</p>
<p>这里介绍一些里面常用的命令：</p>
<ul>
<li><p>adb devices , 获取设备列表及设备状态  </p>
<figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb devices</span><br><span class="line"><span class="built_in">List</span> <span class="keyword">of</span> devices attached </span><br><span class="line"><span class="number">44</span>c826a0	device</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>adb get-state , 获取设备的状态 </p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb <span class="keyword">get</span>-state  </span><br><span class="line">device</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   设备的状态有 3 钟，<code>device</code> , <code>offline</code>  , <code>unknown</code><br>device：设备正常连接<br>offline：连接出现异常，设备无响应<br>unknown：没有连接设备 </p>
</blockquote>
</li>
<li><p>adb kill-server , adb start-server , 结束 adb 服务， 启动 adb 服务，通常两个命令一起用  </p>
<blockquote>
<p>一般在连接出现异常，使用 adb devices 未正常列出设备， 设备状态异常时使用 kill-server，然后运行 start-server 进行重启服务</p>
</blockquote>
</li>
<li><p>adb logcat , 打印 Android 的系统日志，这个可以单独拿出来讲</p>
</li>
<li><p>adb bugreport , 打印dumpsys、dumpstate、logcat的输出，也是用于分析错误  </p>
<blockquote>
<p>输出比较多，建议重定向到一个文件中  </p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb bugreport &gt; <span class="keyword">d</span>:\bugreport.<span class="literal">log</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>adb install , 安装应用，覆盖安装是使用 -r 选项</p>
<blockquote>
<p>windows 下如果需要安装含有中文名的 apk ，需要对 adb 进行修改，百度可以找到做出修改的adb , 支持中文命令的 apk，请自行搜索</p>
</blockquote>
</li>
<li><p>adb uninstall , 卸载应用，后面跟的参数是<code>应用的包名</code>，请区别于 <code>apk 文件名</code>  </p>
<blockquote>
<p>‘-k’ means keep the data and cache directories , -k 选项，卸载时保存数据和缓存目录</p>
</blockquote>
</li>
<li><p>adb pull , 将 Android 设备上的文件或者文件夹复制到本地<br>例如复制 Sdcard 下的 pull.txt 文件到 D 盘：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull sdcard/pull<span class="class">.txt</span> d:\</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   如果需要重命名为 rename.txt：</p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull sdcard/pull.txt <span class="keyword">d</span>:\<span class="keyword">rename</span>.txt</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   注意权限，复制系统权限的目录下的文件，需要 root ，并且一般的 Android 机 root 之后并不能使用命令去复制，而需要在手机上使用类似于 RE 的文件浏览器，先对系统的文件系统进行挂载为可读写后，才能在手机上复制移动系统文件，这里推荐使用小米手机的开发版本，IUNI 也是不错滴~~</p>
</blockquote>
</li>
<li><p>adb push , 推送本地文件至 Android 设备<br>例如推送 D 盘下的 push.txt 至 Sdcard：  </p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">push</span> d:\<span class="keyword">push</span>.txt sdcard/</span><br></pre></td></tr></table></figure>
<blockquote>
<p>sdcard 后面的斜杠不能少，否则会出现下面的错误：</p>
</blockquote>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb push push.txt sdcard</span><br><span class="line">failed <span class="keyword">to</span> <span class="keyword">copy</span> <span class="string">'push.txt'</span> <span class="keyword">to</span> <span class="string">'sdcard'</span>: <span class="keyword">Is</span> a directory</span><br></pre></td></tr></table></figure>
<blockquote>
<p>权限问题同 pull 命令</p>
</blockquote>
</li>
<li><p>adb root , adb remount, 只针对类似小米开发版的手机有用，可以直接已这两个命令获取 root 权限，并挂载系统文件系统为可读写状态</p>
</li>
<li><p>adb reboot , 重启 Android 设备</p>
<blockquote>
<p>bootloader , 重启设备，进入 fastboot 模式，同 adb reboot-bootloader 命令<br>recovery , 重启设备，进入 recovery 模式，经常刷机的同学比较熟悉这个模式</p>
</blockquote>
</li>
<li><p>adb forward , 将 宿主机上的某个端口重定向到设备的某个端口  </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb forward <span class="string">tcp:</span><span class="number">1314</span> <span class="string">tcp :</span><span class="number">8888</span></span><br></pre></td></tr></table></figure>
<p>执行该命令后所有发往宿主机 1314 端口的消息、数据都会转发到 Android 设备的 8888 端口上，因此可以通过远程的方式控制 Android 设备。</p>
</li>
<li><p>adb connect 远程连接 Android 设备</p>
<blockquote>
<p>手机、PC处于相同的网络下，手机 root ，安装应用 adbWireless ，启动应用后点击界面中间的按钮：  </p>
</blockquote>
<p><img src="http://y.photo.qq.com/img?s=g9WfMLxeD&amp;l=y.jpg" alt="image"></p>
<blockquote>
<p>接着运行 <code>adb connect 192.168.1.102</code> , 即可通过无线的方式连接手机，缺点是速度比较慢</p>
</blockquote>
</li>
</ul>
<h3 id="adb_shell_命令">adb shell 命令</h3><p>  有人问过我，为什么会知道这么多的命令，答案就是我比较爱折腾，这里大家先要了解我为什么要区分 adb 命令和 adb shell 命令  。<br>  简单点讲，adb 命令是 adb 这个程序自带的一些命令，而 adb shell 则是调用的 Android 系统中的命令，这些 Android 特有的命令都放在了 Android 设备的 system/bin 目录下，例如我再命令行中敲这样一个命令：  </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">xuxu:</span>~]$ adb shell hehe</span><br><span class="line"><span class="regexp">/system/</span>bin/<span class="string">sh:</span> <span class="string">hehe:</span> not found</span><br></pre></td></tr></table></figure>
<p> 很明显，在 bin 目录下并不存在这个命令。<br> 自己爱折腾，想看看有哪些命令，也不想去找文档，于是就启动模拟器，将整个 <code>system/bin</code> 目录复制了出来，然后一个一个的去试。。囧~~<br> 打开这些文件就可以发现，里面有些命令其实是一个 shell 脚本，例如打开 monkey 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Script to start "monkey" on the device, which has a very rudimentary</span></span><br><span class="line"><span class="comment"># shell.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">base=/system</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=<span class="variable">$base</span>/framework/monkey.jar</span><br><span class="line"><span class="built_in">trap</span> <span class="string">""</span> HUP</span><br><span class="line"><span class="built_in">exec</span> app_process <span class="variable">$base</span>/bin com.android.commands.monkey.Monkey $*</span><br></pre></td></tr></table></figure>
<p>再比如打开 am：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/system/bin/sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Script to start "am" on the device, which has a very rudimentary</span></span><br><span class="line"><span class="comment"># shell.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">base=/system</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=<span class="variable">$base</span>/framework/am.jar</span><br><span class="line"><span class="built_in">exec</span> app_process <span class="variable">$base</span>/bin com.android.commands.am.Am <span class="string">"<span class="variable">$@</span>"</span></span><br></pre></td></tr></table></figure>
<p>还有 SDK sources/android-20/com/android/commands 目录下：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">xuxu:</span>...oid-<span class="number">20</span><span class="regexp">/com/</span>android/commands]$ pwd</span><br><span class="line"><span class="regexp">/Users/</span>xuxu<span class="regexp">/utils/</span>android<span class="regexp">/android-sdk-macosx/</span>sources<span class="regexp">/android-20/</span>com<span class="regexp">/android/</span>commands</span><br><span class="line">[<span class="string">xuxu:</span>...oid-<span class="number">20</span><span class="regexp">/com/</span>android/commands]$ ll   </span><br><span class="line">total <span class="number">0</span></span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> am</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> bmgr</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> bu</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> content</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> ime</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> input</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> media</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> pm</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> requestsync</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> settings</span><br><span class="line">drwxr-xr-x  <span class="number">7</span> xuxu  staff   <span class="number">238</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> svc</span><br><span class="line">drwxr-xr-x  <span class="number">6</span> xuxu  staff   <span class="number">204</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> uiautomator</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> xuxu  staff   <span class="number">102</span>B  <span class="number">4</span>  <span class="number">2</span> <span class="number">10</span>:<span class="number">57</span> wm</span><br></pre></td></tr></table></figure>
<p>有没有熟悉的命令？ am 、pm、uiautomator …</p>
<p>下面介绍一些常用的 adb shell 命令 （其中pm、am 命令比较庞大，使用四级标题）</p>
<h4 id="pm">pm</h4><p>Package Manager , 可以用获取到一些安装在 Android 设备上得应用信息<br>pm 的源码 <a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.2_r1/com/android/commands/pm/Pm.java#Pm" target="_blank" rel="external">Pm.java</a> , 直接运行 adb shell pm 可以获取到该命令的帮助信息</p>
<ul>
<li><p>pm list package 列出安装在设备上的应用  </p>
<blockquote>
<p>   不带任何选项：列出所有的应用的包名（不知道怎么找应用的包名的同学看这里）  </p>
</blockquote>
<figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="literal">shell</span> pm list <span class="keyword">package</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   -s：列出系统应用</p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> pm <span class="keyword">list</span> package -<span class="literal">s</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   -3：列出第三方应用</p>
</blockquote>
<figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="literal">shell</span> pm list <span class="keyword">package</span> -<span class="number">3</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   -f：列出应用包名及对应的apk名及存放位置</p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> pm <span class="keyword">list</span> package -<span class="literal">f</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   -i：列出应用包名及其安装来源，结果显示例子：<br><code>package:com.zhihu.android  installer=com.xiaomi.market</code></p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> pm <span class="keyword">list</span> package -<span class="literal">i</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   命令最后增加 FILTER：过滤关键字，可以很方便地查找自己想要的应用  </p>
</blockquote>
<p> 参数组合使用，例如，查找三方应用中<code>知乎</code>的包名、apk存放位置、安装来源：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell pm list package -f -<span class="number">3</span> -<span class="tag">i</span> zhihu</span><br><span class="line">package:/data/app/com<span class="class">.zhihu</span><span class="class">.android-1</span><span class="class">.apk</span>=com<span class="class">.zhihu</span><span class="class">.android</span>  installer=com<span class="class">.xiaomi</span><span class="class">.market</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>pm path 列出对应包名的 .apk 位置</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell pm path com<span class="class">.tencent</span><span class="class">.mobileqq</span></span><br><span class="line">package:/data/app/com<span class="class">.tencent</span><span class="class">.mobileqq-1</span><span class="class">.apk</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>pm list instrumentation , 列出含有单元测试 case 的应用，后面可跟参数 -f （与 pm list package 中一样），以及 [TARGET-PACKAGE]</p>
</li>
<li><p>pm dump , 后跟包名，列出指定应用的 dump 信息，里面有各种信息，自行查看</p>
<p><code>adb shell pm dump com.tencent.mobileqq</code></p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Packages:</span><br><span class="line">Package [com.tencent.mobileqq] (<span class="number">4397</span>f810):</span><br><span class="line"><span class="variable">userId=</span><span class="number">10091</span> <span class="variable">gids=</span>[<span class="number">3003</span>, <span class="number">3002</span>, <span class="number">3001</span>, <span class="number">1028</span>, <span class="number">1015</span>]</span><br><span class="line"><span class="variable">pkg=</span>Package&#123;<span class="number">43851660</span> com.tencent.mobileqq&#125;</span><br><span class="line"><span class="variable">codePath=</span>/data/app/com.tencent.mobileqq-<span class="number">1</span>.apk</span><br><span class="line"><span class="variable">resourcePath=</span>/data/app/com.tencent.mobileqq-<span class="number">1</span>.apk</span><br><span class="line"><span class="variable">nativeLibraryPath=</span>/data/app-lib/com.tencent.mobileqq-<span class="number">1</span></span><br><span class="line"><span class="variable">versionCode=</span><span class="number">242</span> <span class="variable">targetSdk=</span><span class="number">9</span></span><br><span class="line"><span class="variable">versionName=</span><span class="number">5.6</span>.<span class="number">0</span></span><br><span class="line"><span class="variable">applicationInfo=</span>ApplicationInfo&#123;<span class="number">43842</span>cc8 com.tencent.mobileqq&#125;</span><br><span class="line"><span class="variable">flags=</span>[ HAS_CODE ALLOW_CLEAR_USER_DATA ]</span><br><span class="line"><span class="variable">dataDir=</span>/data/data/com.tencent.mobileqq</span><br><span class="line"><span class="variable">supportsScreens=</span>[small, medium, large, xlarge, resizeable, anyDensity]</span><br><span class="line">usesOptionalLibraries:</span><br><span class="line">com.google.android.media.effects</span><br><span class="line">com.motorola.hardware.frontcamera</span><br><span class="line"><span class="variable">timeStamp=</span><span class="number">2015</span>-<span class="number">05</span>-<span class="number">13</span> <span class="number">14</span>:<span class="number">04</span>:<span class="number">24</span></span><br><span class="line"><span class="variable">firstInstallTime=</span><span class="number">2015</span>-<span class="number">04</span>-<span class="number">03</span> <span class="number">20</span>:<span class="number">50</span>:<span class="number">07</span></span><br><span class="line"><span class="variable">lastUpdateTime=</span><span class="number">2015</span>-<span class="number">05</span>-<span class="number">13</span> <span class="number">14</span>:<span class="number">05</span>:<span class="number">02</span></span><br><span class="line"><span class="variable">installerPackageName=</span>com.xiaomi.market</span><br><span class="line"><span class="variable">signatures=</span>PackageSignatures&#123;<span class="number">4397</span>f8d8 [<span class="number">43980488</span>]&#125;</span><br><span class="line"><span class="variable">permissionsFixed=</span><span class="constant">true</span> <span class="variable">haveGids=</span><span class="constant">true</span> <span class="variable">installStatus=</span><span class="number">1</span></span><br><span class="line"><span class="variable">pkgFlags=</span>[ HAS_CODE ALLOW_CLEAR_USER_DATA ]</span><br><span class="line">User <span class="number">0</span>:  <span class="variable">installed=</span><span class="constant">true</span> <span class="variable">blocked=</span><span class="constant">false</span> <span class="variable">stopped=</span><span class="constant">false</span> <span class="variable">notLaunched=</span><span class="constant">false</span> <span class="variable">enabled=</span><span class="number">0</span></span><br><span class="line">grantedPermissions:</span><br><span class="line">android.permission.CHANGE_WIFI_MULTICAST_STATE</span><br><span class="line">com.tencent.qav.permission.broadcast</span><br><span class="line">com.tencent.photos.permission.DATA</span><br><span class="line">com.tencent.wifisdk.permission.disconnect</span><br></pre></td></tr></table></figure>
</li>
<li><p>pm install , 安装应用</p>
<blockquote>
<p>   目标 apk 存放于 PC 端，请用 adb install 安装<br>目标 apk 存放于 Android 设备上，请用 pm install 安装 </p>
</blockquote>
</li>
<li><p>pm uninstall , 卸载应用，同 adb uninstall , 后面跟的参数都是应用的包名</p>
</li>
<li><p>pm clear , 清除应用数据</p>
</li>
<li><p>pm set-install-location , pm get-install-location , 设置应用安装位置，获取应用安装位置</p>
<blockquote>
<p>   [0/auto]：默认为自动<br>   [1/internal]：默认为安装在手机内部<br>   [2/external]：默认安装在外部存储  </p>
</blockquote>
</li>
</ul>
<h4 id="am">am</h4><p>又是一个庞大的命令。。。<br>am 源码 <a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/com/android/commands/am/Am.java#Am" target="_blank" rel="external">Am.java</a></p>
<ul>
<li><p>am start , 启动一个 Activity，已启动系统相机应用为例</p>
<blockquote>
<p>   启动相机</p>
</blockquote>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell am start -n <span class="keyword">com</span>.android.camera/.Camera</span><br><span class="line"><span class="label">Starting:</span> Intent &#123; cmp=<span class="keyword">com</span>.android.camera/.Camera &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   先停止目标应用，再启动</p>
</blockquote>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell am start -S <span class="keyword">com</span>.android.camera/.Camera</span><br><span class="line"><span class="label">Stopping:</span> <span class="keyword">com</span>.android.camera</span><br><span class="line"><span class="label">Starting:</span> Intent &#123; act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER]     cmp=<span class="keyword">com</span>.android.camera/.Camera &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   等待应用完成启动</p>
</blockquote>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell am start -W <span class="keyword">com</span>.android.camera/.Camera</span><br><span class="line"><span class="label">Starting:</span> Intent &#123; act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=<span class="keyword">com</span>.android.camera/.Camera &#125;</span><br><span class="line"><span class="label">Status:</span> ok</span><br><span class="line"><span class="label">Activity:</span> <span class="keyword">com</span>.android.camera/.Camera</span><br><span class="line"><span class="label">ThisTime:</span> <span class="number">500</span></span><br><span class="line"><span class="label">TotalTime:</span> <span class="number">500</span></span><br><span class="line">Complete</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   启动默认浏览器打开一个网页</p>
</blockquote>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">xuxu:</span>~]$ adb shell am start -a android.intent.action.VIEW -d <span class="string">http:</span><span class="comment">//testerhome.com</span></span><br><span class="line"><span class="string">Starting:</span> Intent &#123; act=android.intent.action.VIEW dat=<span class="string">http:</span><span class="comment">//testerhome.com &#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   启动拨号器拨打 10086</p>
</blockquote>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell am start -a android.<span class="type">intent</span>.<span class="keyword">action</span>.<span class="keyword">CALL</span> -d tel:<span class="number">10086</span>            </span><br><span class="line">Starting: <span class="type">Intent</span> &#123; act=android.<span class="type">intent</span>.<span class="keyword">action</span>.<span class="keyword">CALL</span> dat=tel:xxxxx &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>am instrument , 启动一个 instrumentation , 单元测试或者 Robotium 会用到</p>
</li>
<li><p>am monitor , 监控 crash 与 ANR</p>
</li>
<li><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">[</span>xuxu:~]$ adb shell am<span class="instruction"> monitor</span><br><span class="line"></span>Monitoring activity manager...  available commands:</span><br><span class="line">(q<span class="function">)</span>uit: finish monitoring</span><br><span class="line">** Activity starting: com.android.camera</span><br></pre></td></tr></table></figure>
</li>
<li><p>am force-stop , 后跟包名，结束应用</p>
</li>
<li><p>am startservice , 启动一个服务</p>
</li>
<li><p>am broadcast , 发送一个广播</p>
</li>
</ul>
<p>还有很多的选项，自己多多发掘~~</p>
<h4 id="input">input</h4><p>这个命令可以向 Android 设备发送按键事件，其源码 <a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/com/android/commands/input/Input.java#Input" target="_blank" rel="external">Input.java</a>  </p>
<ul>
<li><p>input text , 发送文本内容，不能发送中文</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="built_in">shell</span> input <span class="keyword">text</span> test123456</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   前提先将键盘设置为英文键盘</p>
</blockquote>
</li>
<li><p>input keyevent , 发送按键事件，<a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/android/view/KeyEvent.java#KeyEvent" target="_blank" rel="external">KeyEvent.java</a>  </p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> <span class="keyword">input</span> keyevent KEYCODE_HOME</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   模拟按下 Home 键 ，源码里面有定义：<br>   public static final int KEYCODE_HOME = 3;<br>   因此可以将命令中的 <code>KEYCODE_HOME</code> 替换为 <code>3</code></p>
</blockquote>
</li>
<li><p>input tap , 对屏幕发送一个触摸事件</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> <span class="keyword">input</span> tap 500 500</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   点击屏幕上坐标为 500 500 的位置</p>
</blockquote>
</li>
<li><p>input swipe , 滑动事件</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> <span class="keyword">input</span> swipe 900 500 100 500</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   从右往左滑动屏幕<br>   如果版本不低于 4.4 , 可以模拟长按事件</p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> <span class="keyword">input</span> swipe 500 500 501 501 2000</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   其实就是在小的距离内，在较长的持续时间内进行滑动，最后表现出来的结果就是长按动作</p>
</blockquote>
</li>
</ul>
<p>到这里会发现，MonkeyRunner 能做到的事情，通过 adb 命令都可以做得到，如果进行封装，会比 MR 做得更好。</p>
<h4 id="screencap">screencap</h4><p>截图命令  </p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screencap -<span class="tag">p</span> /sdcard/screen.png</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   截屏，保存至 sdcard 目录</p>
</blockquote>
<h4 id="screenrecord">screenrecord</h4><p> 4.4 新增的录制命令<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord sdcard/<span class="type">record</span>.mp4</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>   执行命令后操作手机，ctrl + c 结束录制，录制结果保存至 sdcard </p>
</blockquote>
<h4 id="uiautomator">uiautomator</h4><p>执行 UI automation tests ， 获取当前界面的控件信息</p>
<blockquote>
<p>   runtest：executes UI automation tests  <a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/com/android/commands/uiautomator/RunTestCommand.java#RunTestCommand" target="_blank" rel="external">RunTestCommand.java</a><br>      dump：获取控件信息，<a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/com/android/commands/uiautomator/DumpCommand.java#DumpCommand" target="_blank" rel="external">DumpCommand.java</a>  </p>
</blockquote>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">xuxu:</span>~]$ adb shell uiautomator dump   </span><br><span class="line">UI hierchary dumped <span class="string">to:</span> <span class="regexp">/storage/</span>emulated<span class="regexp">/legacy/</span>window_dump.xml</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   不加 [file] 选项时，默认存放在 sdcard 下</p>
</blockquote>
<h4 id="ime">ime</h4><p>输入法，<a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/com/android/commands/ime/Ime.java#Ime" target="_blank" rel="external">Ime.java</a></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell ime list -s                           </span><br><span class="line">com<span class="class">.google</span><span class="class">.android</span><span class="class">.inputmethod</span><span class="class">.pinyin</span>/<span class="class">.PinyinIME</span></span><br><span class="line">com<span class="class">.baidu</span><span class="class">.input_mi</span>/.ImeService</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   列出设备上的输入法</p>
</blockquote>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb shell ime <span class="type">set</span> com.baidu.input_mi/.<span class="type">ImeService</span></span><br><span class="line"><span class="type">Input</span> <span class="keyword">method</span> com.baidu.input_mi/.<span class="type">ImeService</span> selected</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   选择输入法</p>
</blockquote>
<h4 id="wm">wm</h4><p><a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/com/android/commands/wm/Wm.java#Wm" target="_blank" rel="external">Wm.java</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr_selector">[xuxu:~]</span>$ <span class="tag">adb</span> <span class="tag">shell</span> <span class="tag">wm</span> <span class="tag">size</span></span><br><span class="line"><span class="tag">Physical</span> <span class="rule"><span class="attribute">size</span>:<span class="value"> <span class="number">1080</span>x1920</span></span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   获取设备分辨率</p>
</blockquote>
<h4 id="monkey">monkey</h4><p>请参考 <a href="http://xuxu1988.com/2015/05/13/2015-05-02-Monkey/" target="_blank" rel="external">Android Monkey 的用法</a></p>
<h4 id="settings">settings</h4><p><a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android-apps/4.4.4_r1/com/android/settings/Settings.java#Settings" target="_blank" rel="external">Settings.java</a>，请参考 <a href="http://testerhome.com/topics/1993" target="_blank" rel="external">探究下 Android4.2 中新增的 settings 命令</a></p>
<h4 id="dumpsys">dumpsys</h4><p>请参考 <a href="http://testerhome.com/topics/1462" target="_blank" rel="external">android 中 dumpsys 命令使用</a></p>
<h4 id="log">log</h4><p>这个命令很有意思，可以在 logcat 里面打印你设定的信息，具体用途自己思考！</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="keyword">shell</span> <span class="keyword">log</span> -p <span class="keyword">d</span> -t xuxu <span class="string">"test adb shell log"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   -p：优先级，-t：tag，标签，后面加上 message</p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[xuxu:~]$ adb logcat -v time -s xuxu               </span><br><span class="line">--------- beginning of /dev/<span class="keyword">log</span>/system</span><br><span class="line">--------- beginning of /dev/<span class="keyword">log</span>/main</span><br><span class="line">05-15 13:57:10.286 <span class="keyword">D</span>/xuxu    (12646): <span class="keyword">test</span> adb <span class="keyword">shell</span> <span class="literal">log</span></span><br></pre></td></tr></table></figure>
<h4 id="getprop">getprop</h4><p>查看 Android 设备的参数信息，只运行 <code>adb shell getprop</code>，结果以 <code>key : value</code> 键值对的形式显示，如要获取某个 key 的值：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro<span class="class">.build</span><span class="class">.version</span><span class="class">.sdk</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   获取设备的 sdk 版本</p>
</blockquote>
<h3 id="linux_命令">linux 命令</h3><p>操作你的 Android 设备，常用到的命令，只列出，不详解！</p>
<p>cat、cd、chmod、cp、date、df、du、grep、kill、ln、ls、lsof、netstat、ping、ps、rm、rmdir、top、touch、重定向符号 “&gt;” “&gt;&gt;”、管道 “|”</p>
<blockquote>
<p>   有些可能需要使用 busybox ，另外建议 windows 下 安装一个 <code>Cygwin</code> , 没用过的请百度百科 <a href="http://baike.baidu.com/link?url=NatnFuanrdGKgYFGyMvMT_T86-r5ETnVJd8HH6G3jPSj46QosKYAfUO3RafthymAiubSFAafN558p_lMqpJOua" target="_blank" rel="external">Cygwin</a></p>
</blockquote>
<h3 id="END">END</h3><p>补充一个引号的用途：<br>场景1、在 PC 端执行 monkey 命令，将信息保存至 D 盘 monkey.log，会这么写：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -<span class="tag">p</span> com<span class="class">.android</span><span class="class">.settings</span> <span class="number">5000</span> &gt; d:\monkey.log</span><br></pre></td></tr></table></figure>
<p>场景2、在 PC 端执行 monkey 命令，将信息保存至手机的 Sdcard，可能会这么写：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -<span class="tag">p</span> com<span class="class">.android</span><span class="class">.settings</span> <span class="number">5000</span> &gt; sdcard/monkey.log</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   这里肯定会报错，因为最终是写向了 PC 端当前目录的 sdcard 目录下，而非写向手机的 Sdcard  </p>
</blockquote>
<p>这里需要用上引号：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="built_in">shell</span> <span class="string">"monkey -p com.android.settings 5000 &gt; sdcard/monkey.log"</span></span><br></pre></td></tr></table></figure>
<p>对这些命令都熟悉之后，那么接下来就是综合对编程语言的应用，思考如何用语言去处理这些命令，使得这些命令更加的方便于测试工作。</p>
<p>所以个人<a href="https://github.com/gb112211" target="_blank" rel="external"> github </a> 上的几个工具，核心都是 adb 命令，关键的地方在于怎么用自己所学的语言去处理这些命令。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>针对移动端 Android 的测试， adb 命令是很重要的一个点，必须将常用的 adb 命令熟记于心， 将会为 Android 测试带来很大的方便，其中很多命令将会用于自动化测试的脚本当中。 </p>
<h3 id="Android_Debug_Bridge">Android Debug Bridge</h3><p><code>adb</code> 其实就是 <code>Android Debug Bridge</code>, Android 调试桥的缩写，adb 是一个 <em>C/S</em> 架构的命令行工具，主要由 3 部分组成：</p>
<ul>
<li>运行在 PC 端的 Client : 可以通过它对 Android 应用进行安装、卸载及调试 <blockquote>
<p>   Eclipse 中的 ADT、SDK Tools 目录下的 DDMS、Monitor 等工具，都是同样地用到了 adb 的功能来与 Android 设备进行交互。<br>PC 端的手机助手，诸如 360 手机助手、豌豆荚、应用宝等，其除了安装第三方应用方便，其他的功能，基本上都可以通过 adb 命令去完成，这里建议<code>测试人员</code>尽量不要在电脑上安装这类手机助手，因为其自带的 adb 程序可能会与 Android SDK 下的 adb 程序产生冲突，<code>5037</code> 端口被占用，导致使用 adb 命令时无法连接到设备</p>
</blockquote>
</li>
</ul>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="测试基础" scheme="http://www.xuxu1988.com/tags/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%A1%80/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android Instrumentation简介]]></title>
    <link href="http://www.xuxu1988.com/2015/05/14/2015-05-02-Instrumentation01/"/>
    <id>http://www.xuxu1988.com/2015/05/14/2015-05-02-Instrumentation01/</id>
    <published>2015-05-14T12:27:13.000Z</published>
    <updated>2016-03-24T12:41:27.000Z</updated>
    <content type="html"><![CDATA[<h2 id="APIs_&amp;&amp;_Source_code">APIs &amp;&amp; Source code</h2><ul>
<li><a href="http://developer.android.com/reference/android/app/Instrumentation.html" target="_blank" rel="external">官方 APIs 地址(需要翻墙)</a></li>
<li><a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.2_r1/android/app/Instrumentation.java#Instrumentation" target="_blank" rel="external">Source code</a></li>
</ul>
<h2 id="Instrumentation_特点">Instrumentation 特点</h2><ul>
<li>该框架基于 JUnit，因此既可以直接使用 Junit 进行测试，也可以使用 Instrumentation 来测试 Android 组件</li>
<li>其为 Android 应用的每种组件提供了测试基类</li>
<li>可以在 Eclipse 中方便地创建 Android Test Project，并将 Test Case 直接以 Android JUnit 的方式运行</li>
</ul>
<a id="more"></a>
<h2 id="Instrumentation_简单例子">Instrumentation 简单例子</h2><ol>
<li>新建一个 Instrumentation 的 Android 项目</li>
<li><p>activity_main.xml 内容为：</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;RelativeLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">   	xmlns:<span class="variable">tools=</span><span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">   	android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span></span><br><span class="line">   	android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span></span><br><span class="line">   	android:<span class="variable">paddingBottom=</span><span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">   	android:<span class="variable">paddingLeft=</span><span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">   	android:<span class="variable">paddingRight=</span><span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">   	android:<span class="variable">paddingTop=</span><span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">   	tools:<span class="variable">context=</span><span class="string">"com.xuxu.unittest.MainActivity"</span> &gt;</span><br><span class="line"></span><br><span class="line">   &lt;TextView</span><br><span class="line">   	android:<span class="variable">id=</span><span class="string">"@+id/textView"</span></span><br><span class="line">       android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span></span><br><span class="line">       android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span></span><br><span class="line">       android:<span class="variable">text=</span><span class="string">"@string/hello_world"</span> /&gt;</span><br><span class="line"></span><br><span class="line">   &lt;Button</span><br><span class="line">       android:<span class="variable">id=</span><span class="string">"@+id/button"</span></span><br><span class="line">       android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span></span><br><span class="line">       android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span></span><br><span class="line">       android:<span class="variable">layout_centerHorizontal=</span><span class="string">"true"</span></span><br><span class="line">       android:<span class="variable">layout_centerVertical=</span><span class="string">"true"</span></span><br><span class="line">       android:<span class="variable">text=</span><span class="string">"Button"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>
<p>界面效果为：</p>
<p><img src="http://i12.tietuku.cn/b9695e036450ca74.jpg" alt="效果图"></p>
</li>
<li><p>配置 AndroidManifest.xml  </p>
<ul>
<li><p>添加 <code>instrumentation</code> 标签：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">instrumentation</span></span><br><span class="line">	<span class="attribute">android:name</span>=<span class="value">"android.test.InstrumentationTestRunner"</span></span><br><span class="line">	<span class="attribute">android:targetPackage</span>=<span class="value">"com.xuxu.unittest"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">instrumentation</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在 application 标签里面添加 <code>uses-library</code>：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-library android:<span class="property">name</span>=<span class="string">"android.test.runner"</span> /&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>文件内容截图：</p>
<p><img src="http://i12.tietuku.cn/cbde10af80847a76.jpg" alt="AndroidManiest 内容截图"> <br></p>
</li>
</ul>
</li>
<li><p>完成 MainActivity，实现点击 <code>Button</code> 按钮之后 <code>TextView</code> 的内容由 <strong>Hello world!</strong> 变为 <strong>Hello android!</strong></p>
<p>实现代码如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xuxu.unittest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.<span class="type">Activity</span>;</span><br><span class="line"><span class="keyword">import</span> android.os.<span class="type">Bundle</span>;</span><br><span class="line"><span class="keyword">import</span> android.view.<span class="type">View</span>;</span><br><span class="line"><span class="keyword">import</span> android.view.<span class="type">View</span>.<span class="type">OnClickListener</span>;</span><br><span class="line"><span class="keyword">import</span> android.widget.<span class="type">Button</span>;</span><br><span class="line"><span class="keyword">import</span> android.widget.<span class="type">TextView</span>;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> &#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">TextView</span> textView;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">Button</span> button;</span><br><span class="line"></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) &#123;</span><br><span class="line">		<span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">		setContentView(<span class="type">R</span>.layout.activity_main);</span><br><span class="line"></span><br><span class="line">		textView = (<span class="type">TextView</span>) findViewById(<span class="type">R</span>.id.textView);</span><br><span class="line">		button = (<span class="type">Button</span>) findViewById(<span class="type">R</span>.id.button);</span><br><span class="line"></span><br><span class="line">		button.setOnClickListener(<span class="keyword">new</span> <span class="type">OnClickListener</span>() &#123;</span><br><span class="line"></span><br><span class="line">			<span class="annotation">@Override</span></span><br><span class="line">			public void onClick(<span class="type">View</span> v) &#123;</span><br><span class="line">				textView.setText(<span class="string">"Hello android!"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对MainActivity进行测试  </p>
<ul>
<li>建立测试类，可以单独建立一个对应的 Android Test Project，也可以就在原项目里面新建测试类，这里选择第二种：<ol>
<li>右键点击待测项目 &gt; New &gt; Source Folder , 文件夹名 tests</li>
<li>右键新建好的 tests 文件夹 &gt; New &gt; Package , 包名取为待测包名 .test , 这里取为<code>com.xuxu.unittest.test</code></li>
<li>在包里面新建一个 Class:<br>Name：<strong>MainActivityTest</strong> <br><br>Superclass：<strong>android.test.ActivityInstrumentationTestCase2<t></t></strong></li>
</ol>
</li>
<li><p>完成 MainActivityTest , 运行测试。右键项目，选择 Run As Android JUnit  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xuxu.unittest.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xuxu.unittest.MainActivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.test.ActivityInstrumentationTestCase2;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivityTest</span> <span class="keyword">extends</span> <span class="title">ActivityInstrumentationTestCase2</span>&lt;<span class="title">MainActivity</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> MainActivity mActivity;</span><br><span class="line">	<span class="keyword">private</span> TextView textView;</span><br><span class="line">	<span class="keyword">private</span> Button button;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MainActivityTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(MainActivity.class);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.setUp();</span><br><span class="line"></span><br><span class="line">		mActivity = getActivity();</span><br><span class="line">		textView = (TextView) mActivity.findViewById(com.xuxu.unittest.R.id.textView);</span><br><span class="line">		button = (Button) mActivity.findViewById(com.xuxu.unittest.R.id.button);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//测试初始化条件</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		assertEquals(<span class="string">"Hello world!"</span>, textView.getText().toString());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//测试点击Button之后TextView的值</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testButton</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//在UI线程中操作</span></span><br><span class="line">		mActivity.runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line">			<span class="annotation">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				button.performClick();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line"></span><br><span class="line">	Thread.sleep(<span class="number">500</span>); <span class="comment">//加个延时，否则TextView内容还为更改，就已经做断言了</span></span><br><span class="line">	assertEquals(<span class="string">"Hello android!"</span>, textView.getText().toString());</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>右键项目，选择 Run As Android JUnit </p>
<p><img src="http://i12.tietuku.cn/470f3119080b7137.jpg" alt="运行结果"></p>
</li>
</ul>
</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="APIs_&amp;&amp;_Source_code">APIs &amp;&amp; Source code</h2><ul>
<li><a href="http://developer.android.com/reference/android/app/Instrumentation.html">官方 APIs 地址(需要翻墙)</a></li>
<li><a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.2_r1/android/app/Instrumentation.java#Instrumentation">Source code</a></li>
</ul>
<h2 id="Instrumentation_特点">Instrumentation 特点</h2><ul>
<li>该框架基于 JUnit，因此既可以直接使用 Junit 进行测试，也可以使用 Instrumentation 来测试 Android 组件</li>
<li>其为 Android 应用的每种组件提供了测试基类</li>
<li>可以在 Eclipse 中方便地创建 Android Test Project，并将 Test Case 直接以 Android JUnit 的方式运行</li>
</ul>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="Instrumentation" scheme="http://www.xuxu1988.com/tags/Instrumentation/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="自动化" scheme="http://www.xuxu1988.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android Monkey的用法]]></title>
    <link href="http://www.xuxu1988.com/2015/05/14/2015-05-02-Monkey/"/>
    <id>http://www.xuxu1988.com/2015/05/14/2015-05-02-Monkey/</id>
    <published>2015-05-14T02:27:13.000Z</published>
    <updated>2016-01-29T15:13:16.000Z</updated>
    <content type="html"><![CDATA[<h3 id="Monkey_简介">Monkey 简介</h3><ul>
<li><a href="https://developer.android.com/tools/help/monkey.html" target="_blank" rel="external">Monkey 官方文档(需要翻墙)</a></li>
<li><a href="https://github.com/android/platform_development/tree/master/cmds/monkey/src/com/android/commands/monkey" target="_blank" rel="external">Monkey 源码</a></li>
<li>Monkey 是一个命令行工具，可以运行在 Android 模拟器里或真实设备中。它可以向系统发送<code>伪随机(pseudo-random)</code>的用户事件流(如按键输入、触摸屏输入、手势输入等)，可以对待测的目标应用或整个 Android 系统进行压力测试。因此 Monkey 测试是一种为了测试软件的稳定性、健壮性的快速有效的方法<a id="more"></a></li>
<li><p>基本语法：</p>
  <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adb <span class="keyword">shell</span> monkey [<span class="keyword">options</span>] &lt;event-<span class="built_in">count</span>&gt;</span><br></pre></td></tr></table></figure>
<p>  如果不指定<code>options</code>，即类似于使用命令<code>adb shell monkey 1000</code>，那么将会对整个系统中安装的 package 发送事件流，换种说法就是对整个 Android 系统进行 Monkey 压力测试<br><br>  这是一个对指定应用（Android自带的<code>系统设置</code>应用）进行 Monkey 测试的例子，发送的事件流数目为1000：</p>
  <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -<span class="tag">p</span> com<span class="class">.android</span><span class="class">.settings</span> <span class="number">1000</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Monkey_命令选项">Monkey 命令选项</h3><ul>
<li><p>获取选项列表，Android 4.4版本中输入<code>adb shell monkey</code>,会显示选项列表如下：</p>
  <figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="atom">usage</span>: <span class="atom">monkey</span> [-<span class="atom">p</span> <span class="name">ALLOWED_PACKAGE</span> [-<span class="atom">p</span> <span class="name">ALLOWED_PACKAGE</span>] ...]</span><br><span class="line">              [-<span class="atom">c</span> <span class="name">MAIN_CATEGORY</span> [-<span class="atom">c</span> <span class="name">MAIN_CATEGORY</span>] ...]</span><br><span class="line">              [--<span class="atom">ignore</span>-<span class="atom">crashes</span>] [--<span class="atom">ignore</span>-<span class="atom">timeouts</span>]</span><br><span class="line">              [--<span class="atom">ignore</span>-<span class="atom">security</span>-<span class="atom">exceptions</span>]</span><br><span class="line">              [--<span class="atom">monitor</span>-<span class="atom">native</span>-<span class="atom">crashes</span>] [--<span class="atom">ignore</span>-<span class="atom">native</span>-<span class="atom">crashes</span>]</span><br><span class="line">              [--<span class="atom">kill</span>-<span class="atom">process</span>-<span class="atom">after</span>-<span class="atom">error</span>] [--<span class="atom">hprof</span>]</span><br><span class="line">              [--<span class="atom">pct</span>-<span class="atom">touch</span> <span class="name">PERCENT</span>] [--<span class="atom">pct</span>-<span class="atom">motion</span> <span class="name">PERCENT</span>]</span><br><span class="line">              [--<span class="atom">pct</span>-<span class="atom">trackball</span> <span class="name">PERCENT</span>] [--<span class="atom">pct</span>-<span class="atom">syskeys</span> <span class="name">PERCENT</span>]</span><br><span class="line">              [--<span class="atom">pct</span>-<span class="atom">nav</span> <span class="name">PERCENT</span>] [--<span class="atom">pct</span>-<span class="atom">majornav</span> <span class="name">PERCENT</span>]</span><br><span class="line">              [--<span class="atom">pct</span>-<span class="atom">appswitch</span> <span class="name">PERCENT</span>] [--<span class="atom">pct</span>-<span class="atom">flip</span> <span class="name">PERCENT</span>]</span><br><span class="line">              [--<span class="atom">pct</span>-<span class="atom">anyevent</span> <span class="name">PERCENT</span>] [--<span class="atom">pct</span>-<span class="atom">pinchzoom</span> <span class="name">PERCENT</span>]</span><br><span class="line">              [--<span class="atom">pkg</span>-<span class="atom">blacklist</span>-<span class="atom">file</span> <span class="name">PACKAGE_BLACKLIST_FILE</span>]</span><br><span class="line">              [--<span class="atom">pkg</span>-<span class="atom">whitelist</span>-<span class="atom">file</span> <span class="name">PACKAGE_WHITELIST_FILE</span>]</span><br><span class="line">              [--<span class="atom">wait</span>-<span class="atom">dbg</span>] [--<span class="atom">dbg</span>-<span class="atom">no</span>-<span class="atom">events</span>]</span><br><span class="line">              [--<span class="atom">setup</span> <span class="atom">scriptfile</span>] [-<span class="atom">f</span> <span class="atom">scriptfile</span> [-<span class="atom">f</span> <span class="atom">scriptfile</span>] ...]</span><br><span class="line">              [--<span class="atom">port</span> <span class="atom">port</span>]</span><br><span class="line">              [-<span class="atom">s</span> <span class="name">SEED</span>] [-<span class="atom">v</span> [-<span class="atom">v</span>] ...]</span><br><span class="line">              [--<span class="atom">throttle</span> <span class="name">MILLISEC</span>] [--<span class="atom">randomize</span>-<span class="atom">throttle</span>]</span><br><span class="line">              [--<span class="atom">profile</span>-<span class="atom">wait</span> <span class="name">MILLISEC</span>]</span><br><span class="line">              [--<span class="atom">device</span>-<span class="atom">sleep</span>-<span class="atom">time</span> <span class="name">MILLISEC</span>]</span><br><span class="line">              [--<span class="atom">randomize</span>-<span class="atom">script</span>]</span><br><span class="line">              [--<span class="atom">script</span>-<span class="atom">log</span>]</span><br><span class="line">              [--<span class="atom">bugreport</span>]</span><br><span class="line">              [--<span class="atom">periodic</span>-<span class="atom">bugreport</span>]</span><br><span class="line">              <span class="name">COUNT</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>常用选项及参数说明<ul>
<li><strong>-p</strong> 允许的包名列表，可同时指定多个包名，每个包都需要使用“-p”参数指定。包名的获取，可参考 python 脚本<a href="https://github.com/gb112211/AndroidTestScripts/blob/master/python/get_package_name.py" target="_blank" rel="external">get_package_name.py</a></li>
<li><strong>—ignore-crashes</strong> 忽视应用 crash 报错，不指定该参数时，应用出现 crash，monkey 会自动停止发送事件，指定该参数后，mongkey 会在 crash 后也一直发送事件，知道所有事件发送完成</li>
<li><strong>—ignore-timeouts</strong> 忽视超时导致的错误，即ANR的错误</li>
<li><strong>—ignore-security-exceptions</strong> 忽视权限方面的错误</li>
<li><strong>—monitor-native-crashes</strong> 监控由 C/C++ 代码引起的 crash</li>
<li><strong>—ignore-native-crashes</strong> 忽视由 C/C++ 代码引起的 crash</li>
<li><strong>—kill-process-after-error</strong> 当出现错误后杀掉应用的进程</li>
<li><strong>—hprof</strong> 指定该选项后，monkey会在发送事件完成后生成性能报告，报告一般存放于/data/misc目录下，对报告的分析，需要使用<a href="https://developer.android.com/tools/debugging/debugging-tracing.html" target="_blank" rel="external">Traceview</a></li>
<li><strong>—pct-touch</strong> 设定 touch 事件比例</li>
<li><strong>—pct-motion</strong> 设定手势事件比例，例如滑动事件</li>
<li><strong>—pct-trackball</strong> 设定跟踪球事件的比例</li>
<li><strong>—pct-syskeys</strong> 设定系统按键事件的比例，如 Home、Back、音量+/-等</li>
<li><strong>—pct-nav</strong> 设定”基本”导航事件的比例</li>
<li><strong>—pct-majornav</strong> 设定”主要”导航事件比例</li>
<li><strong>—pct-appswitch</strong> 设定启动 Activity 的事件比例</li>
<li><strong>—pct-pinchzoom</strong> 设定缩放事件比例</li>
<li><strong>—pct-anyevent</strong> 设定其他事件比例</li>
<li><strong>-s</strong> 设定种子数，方便用于重现 bug</li>
<li><strong>-v</strong> 设定输出信息的详细级别，1个 -v 表示级别为1，2个 -v 表示级别为2 </li>
<li><strong>—throttle</strong> 设定事件之间的延时，单位为毫秒</li>
<li><strong>COUNT</strong> 事件数目</li>
</ul>
</li>
</ul>
<h3 id="结束Monkey进程">结束Monkey进程</h3><p>执行 Monkey 的过程中如果想中途停止 Monkey 程序的运行，需要将 Monkey 的进程杀掉。  </p>
<ul>
<li>windows 下使用<code>findstr</code>，linux/mac 下用<code>grep</code></li>
<li>执行<code>adb shell ps | findstr monkey</code>  </li>
<li>获取到 monkey 进程的 pid 之后运行<code>adb shell kill 进程ID</code></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<h3 id="Monkey_简介">Monkey 简介</h3><ul>
<li><a href="https://developer.android.com/tools/help/monkey.html">Monkey 官方文档(需要翻墙)</a></li>
<li><a href="https://github.com/android/platform_development/tree/master/cmds/monkey/src/com/android/commands/monkey">Monkey 源码</a></li>
<li>Monkey 是一个命令行工具，可以运行在 Android 模拟器里或真实设备中。它可以向系统发送<code>伪随机(pseudo-random)</code>的用户事件流(如按键输入、触摸屏输入、手势输入等)，可以对待测的目标应用或整个 Android 系统进行压力测试。因此 Monkey 测试是一种为了测试软件的稳定性、健壮性的快速有效的方法]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="Monkey" scheme="http://www.xuxu1988.com/tags/Monkey/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android测试技能树]]></title>
    <link href="http://www.xuxu1988.com/2015/05/13/2015-05-02-Android-Tree/"/>
    <id>http://www.xuxu1988.com/2015/05/13/2015-05-02-Android-Tree/</id>
    <published>2015-05-13T12:27:13.000Z</published>
    <updated>2016-04-29T12:42:33.000Z</updated>
    <content type="html"><![CDATA[<h3 id="Android_基础知识">Android 基础知识</h3><ul>
<li>Android 的体系结构</li>
<li>apk 的组成结构</li>
<li>adb 命令的使用</li>
<li>Android 的四大组件</li>
<li>Activity 的生命周期</li>
<li>…</li>
</ul>
<a id="more"></a>
<h3 id="测试/开发环境的准备">测试/开发环境的准备</h3><ul>
<li>JDK 安装</li>
<li>SDK 安装</li>
<li>IDE 的使用(Eclipse/Android Studio)</li>
<li>ddms、uiautomatorviewer、hierarchyviewer 等sdk 自带工具</li>
<li>windows 下cmd 命令、批处理脚本</li>
</ul>
<h3 id="测试关注点">测试关注点</h3><ul>
<li>功能</li>
<li>UI</li>
<li>性能</li>
<li>安全</li>
<li>体验及交互</li>
</ul>
<h3 id="Android_Log_抓取">Android Log 抓取</h3><ul>
<li>常见报错类型<ul>
<li>crash</li>
<li>anr</li>
</ul>
</li>
<li>logcat<ul>
<li>main log</li>
<li>events log</li>
<li>radio log</li>
</ul>
</li>
<li>log种类<ul>
<li>logcat</li>
<li>trace 日志</li>
<li>bugreport</li>
<li>tombstones</li>
<li>dropbox</li>
</ul>
</li>
</ul>
<h3 id="数据库">数据库</h3><ul>
<li>Sqlite</li>
<li>基本SQL语句</li>
</ul>
<h3 id="Linux">Linux</h3><ul>
<li>基本命令</li>
<li>shell脚本</li>
</ul>
<h3 id="语言">语言</h3><ul>
<li>Java</li>
<li>Python</li>
</ul>
<h3 id="自动化框架">自动化框架</h3><ul>
<li>Monkeyrunner</li>
<li>Monkey（勉强归于此）</li>
<li>Instrumentation</li>
<li>Robotium</li>
<li>Uiautomator</li>
<li>Appium</li>
</ul>
<h3 id="持续集成">持续集成</h3><ul>
<li>jenkins</li>
<li>Gradle</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<h3 id="Android_基础知识">Android 基础知识</h3><ul>
<li>Android 的体系结构</li>
<li>apk 的组成结构</li>
<li>adb 命令的使用</li>
<li>Android 的四大组件</li>
<li>Activity 的生命周期</li>
<li>…</li>
</ul>]]>
    
    </summary>
    
      <category term="Android" scheme="http://www.xuxu1988.com/tags/Android/"/>
    
      <category term="mobile" scheme="http://www.xuxu1988.com/tags/mobile/"/>
    
      <category term="测试基础" scheme="http://www.xuxu1988.com/tags/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%A1%80/"/>
    
      <category term="技术" scheme="http://www.xuxu1988.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
</feed>